---
title: 广域网与接入网技术
date: 2023-05-15 16:02:26
permalink: /pages/1f35f7/
categories:
  - 专题
  - 软考中级
tags:
  - 
---
# 广域网与接入网技术

## 8. 广域网与接入网技术

### 8.1. 广域网交换方式

- 电路交换：通信开始之前，主呼叫和被呼叫之间建立连接，之后建立通信，期间**独占整个链路**，结束通信时释放链路。电路交换是面向连接的。

- 报文交换：结点把要发送的信息组织成一个报文（数据包），该报文中含有目标结点的地址，每一个节点接收整个报文并检查目标地址，然后根据网络情况，在适当的时刻向下一个节点转发。

- **分组交换**：分为**数据报**和**虚电路**。目前虚电路已经被淘汰。

![](https://static.xiaoliutalk.cn/img/202209291728679.jpg)

**虚电路**：在网络的源主机和目标主机建立一条逻辑通道，所有报文沿着逻辑电路传输数据。传输完毕后，需要释放虚电路。

**数据报**：数据包服务类似于邮政系统的信件投递，每个分组都携带完整的源和目的节点的地址信息，独立进行传输，每当经过一个中间节点时，都要根据目标地址和网络的状态，去选择一条最佳的输出路径。

| 对比                       | 虚电路服务                                     | 数据报服务                                 |
| -------------------------- | ---------------------------------------------- | ------------------------------------------ |
| 思路                       | 可靠通信由网络保障                             | 可靠通信由**用户主机**保障                 |
| 连接的建立                 | 必须有                                         | 不需要                                     |
| 终点地址                   | 仅在连接建立阶段使用，每个分组使用短的虚电路号 | 每个分组都有重点的完整地址                 |
| 分组的转发                 | 属于同一条虚电路的分组均按照同一路由进行转发   | 每个分组独立选择路由进行转发               |
| 当节点出现故障时           | 所有通过出故障节点的虚电路都不能工作           | 出故障的节点可能丢失分组，一些路由发生变化 |
| 分组的顺序                 | 总是按发送顺序到达终点                         | 不一定按发送顺序到达终点                   |
| 端到端的差错处理和流量控制 | 可以由网络负责，可以由用户主机负责             | 用户主机负责                               |

常见广域网协议：

- X.25是一个使用电话或者ISDN设备作为网络硬件设备来架构广域网的ITU-T网络协议。它的物理层，数据链路层和网络层都是按照OSI体系模型来架构的。通过建立虚电路，实现可靠交付。
- 帧中继（Frame Relay）在第二层建立虚拟电路，用帧方式承载数据业务，第三层被简化。并且**帧中继只做检错，不重传， 没有滑动窗口式的流控机制，只有拥塞控制，把复杂的检错交给高层处理**，因此适合突发性业务。在虚连接中，用数据链路连接标识（DLCI）来表示该网络中的虚电路。
- ATM异步传输网络，采用面向连接的传输方式，将数据分割成固定长度的信元(53B) ,通过异步时分复用技术，在虚连接上实现快速交换的技术。ATIM的典型数据速率为155Mbps。

### 8.2. 流量与差错控制

**没有出错的状况**：

- **停等协议**： 发送站发送—帧，然后等待应答信号后再发送下—帧。接收站每收到—帧都要回—个**应答信号ACK** ， 表示愿意接受下—帧，如果接受站不发送信号则发送站必须等待。

- **滑动窗口协议**：如果接收端维持能容纳W个帧的缓冲区（ 即**窗口大小为W** ) ，那么发送端可以连续发送W个帧而不必等待应答信号，但是在接到接收端的应答信号之前，滑动窗口不滑动。接收端收到一个帧时，就发送一个应答信号，并把滑动窗口滑动到 $i=W-i+1$的位置，表明  之前的已正确接收，期待接收后续W个帧。

**出错的状况，需要进行差错控制**：

- **停等ARQ协议**：发送站发送一帧必须**等待应答信号ACK**，收到信号后才能发送下一帧；如果**收到否定应答信号NAK后重发**该帧；如果在一定时间内未收到应答信号必须重发。

- **选择重发ARQ**：只重发出错的帧，后面的帧被缓存。这种协议**窗口大小的最大值**应为**帧编号数的一半**

  $$W_发=W_收<=2^{k-1}$$

- **后退N帧ARQ**：哪一帧出错，这一帧之前的发过的帧都要进行重发。窗口大小为

  $$W<=2^{k}-1$$

### 8.3. HDLC

HDLC是一种**面向比特的同步数据链路控制协议**。

HDLC也是思科路由器上默认的wan口封装协议，是**思科私有协议**。

HDLC帧格式：

![](https://static.xiaoliutalk.cn/img/202209301530428.jpg)

在HDLC的帧结构中，若在两个标志字段之间的比特串中，碰巧出现了和标志字段F（01111110）一样的比特组合，那么就会误认为是帧的边界。为了避免出现这种情况，HDLC采用零比特填充法使一帧中两个F字段之间不会出现6个连续1。

每当发现5个连续1时，就将这5个连续1后的一个0删除，以还原成原来的比特流。这样就保证了在所传送的比特流中，不管出现什么样的比特组合，也不至于引起帧边界的判断错误。

![](https://static.xiaoliutalk.cn/img/202209301550398.jpg)

HDLC定义了三种帧：信息帧（I帧）、管理帧(S帧)、无编号帧（U帧），其中控制字段第一位或者前两位用于区别三种不同的帧

- **信息帧（I帧）**：第一位为0，用于承载**数据控制**。
- **监控帧（S帧）**：前两位为10，**监控帧用于差错控制和流量控制**。
- **无编号帧（U帧）**：前两位为11，U帧用于提供对链路的建立、拆除以及多种**控制功能**，但是当要求提供不可靠的无连接服务时，它有时也可以承载数据。

管理帧（S帧）不包含信息字段，它的第三、四位为管理帧（S帧）类型编码，共有四种不同的编码：

- 00-接受就绪（RR）
- 01-拒绝（REJ）
- 10-接受未就绪（RNR）
- 11-选择拒绝（SREJ）

### 8.4. PPP

点对点协议(Point to Point Protocol)： 缩写为PPP。面向**字符**，是TCP/IP 网络协议包的—个成员。通过在点对点的串行链路上封装数据包，并将HDLC（高级数据链路协议） 作为封装数据包的基础的点对点协议。他提供了—整套协议框架来解决链路建立、维护、拆除、上层协议协商和认证等问题。最常见应用为 **PPPOE**。

认证协议分为两种：

- PAP （ 密码认证协议） ： PAP 在网络上传送未加密的ASCII密码， 因此被认为是不安全的。

- CHAP （ 挑战式握手认证协议）：通过三次握手周期性的校验对端的身份，在初始链路建立时完成，**由主验证方先发送验证的请求**。可以在链路建立之后的任何时间重复进行。三次握手的过程：
  - 主验证方向被验证方发送**主机名+随机报文**。
  - 被验证方将密码，用户名，随机报文做一个MD5运算。得到128位摘要值。被验证方发送**主机名+加密后报文**给被验证方。
  - 主验证方验证，如果匹配则认证正常。

### 8.5. 常见接入网技术-SONET/SDH

| SONET信号       | 比特率/Mbps | SDH信号 |
| --------------- | ----------- | ------- |
| STS-1和OC-1     | 51.840      |         |
| STS-3和OC-3     | 155.520     | STM-1   |
| STS-12和OC-12   | 622.080     | STM-4   |
| STS-48和OC-48   | 2448.320    | STM-16  |
| STS-192和OC-192 | 9953.280    | STM-64  |
| STS-768和OC-768 | 39813120    | STM-256 |

### 8.6. 常见接入网技术-ISDN和xDSL

**ISDN 综合业务数字网**：是一个数字电话网络国际标准，—种典型的电路交换网络体统，采用时分多路复用技术。通过普通的铜缆及更高的速率和质量传输语音和数据， 俗称“—线通” 。

ISDN 分为窄带和宽带两种：

窄带ISDN：有基本速率（2B+D，144kbps）和一次群速率（30B+D，2Mbps）两种。

宽带ISDN：未普及，忽略。

**xDSL**：各种DSL 数字用户总线的总称，基于普通电话线采用频分复用技术的宽带接入技术，X 表示字符或字符串，根据采用的调制方式不同，获得不同的信号传输速率、传输距离、上行下行信道的不同对称性。

| XDSL  | 对称性 | 下行带宽             | 上行带宽             |
| ----- | ------ | -------------------- | -------------------- |
| ADSL  | 非对称 | 8Mbps                | 640kbps~1Mbps        |
| HDSL  | 对称   | 1.544Mbps，2.048Mbps | 1.544Mbps，2.048Mbps |
| SDSL  | 对称   | 2.3Mbps              | 2.3Mbps              |
| VDSL  | 非对称 | 55Mbps               | 19.2Mbps             |
| RADSL | 非对称 | 8Mbps                | 640kbps~1Mbps        |

### 8.7. 常见接入网技术-HFC

HFC（混合的光纤同轴电缆），综合运用了模拟和数字传输技术、同轴和光纤技术的宽带接入网络， 它由**光纤干线网**和**同轴分配网**组成。

在原有CATV网络基础上进行双向改造：

- 干线部分：光传输系统代替CATV中的同轴电缆
- 用户分配网：仍保留同轴电缆网络结构，但放大器改成双向的

可提供业务：

- 保留原有CATV单向电视广播业务
- 利用剩余频带提供宽带数据业务

### 8.8. 常见接入网技术-光纤接入网

有源接入：典型的设备主要是基于SDH的多业务传送平台、基于以太网或ATM的多业务接入平台等。这种技术作为**有源设备仍然无法完全摆脱电磁干扰和雷电影响**，以及**有源设备固有的维护问题**。

无源光网络（PON）：

PON由**光线路终端**（OLT）、**光分配网络**（ODN）、**光网络单元**（ONU）组成。

![](https://static.xiaoliutalk.cn/img/202210132323994.jpg)

根据ONU的位置，又分为几种：

- FTTC : ( Fiber To The Curb ) 光纤到路边
- FTTZ : ( Fiber To The Zone ) 光纤到小区。
- FTTB ( Fiber To The  Building )：光纤到大楼。
- **FTTH ( Fiber To The Home )**：光纤到用户， 需要光电转换器。

采用**点到多点**模式，其**下行采用广播方式**、上行采用**TDMA时分多址方式**，可以灵活地组成树型、星型、总线型等拓朴结构（**典型结构为树型**），主要特征是ODN全部采用无源光器件组成，避免了有源设备的电磁干扰和雷电影响，减少了线路和外部设备的故障率，搞高了系统可靠性。

- APON：最高速率为622Mbps，二层采用的是ATM封装，目前已弃用。
- **EPON**：可以支持上下行1.25Gbps对称速率，采用 8B/10B 线路编码。
- **GPON**：其技术特色是二层采用ITU-T定义的GFP(通用成帧规程)对Ethernet、TDM、 ATM等多种业务进行封装映射，能提供**1.25Gbps、2.5Gbps** 下行速率和所有标准的上行速率。
- **10G GPON(也可以称为XGPON)**：上下行非对称(上行2.5Gbps,下行10Gbps)。10G GPON最大传输距离可达到40KM。
- **10G EPON**：实际速率是10.3125 Gbit/s，分对称（**10 Gbps的上下行速率**）与不对称（**10Gbps下行和1 Gbps上行**）两种类型。