---
title: 网络工程师
date: 2022-04-08 16:01:40
permalink: /wanggong/
categories:
  - 专题
  - 软考中级
tags:
  - 

---

# 网络工程师笔记

## 1. 计算机硬件基础

### 1.1. 数据的表示

#### 1.1.1. R进制（逢R进一）

二进制转10进制：

例：$(111000)_2$转化为十进制数。

位权展开：$2^5*1+2^4*1+2^3*1+2^2*0+2^1*0+2^0*0=56$

#### 1.1.2. 二进制，八进制，十六进制互转

二进制转八进制：从右往左起，每三位 二进制 转一位八进制。不足三位的在最左边加0补齐。

 八转二：对每一位八进制数转换为三位二进制表示。

二进制转十六进制：从右往左起，每四位 二进制 转一位十六进制。不足四位的在最左边加0补齐。

 十六转二：对每一位十六进制数转换为四位二进制表示。

#### 1.1.3. 原码，反码，补码

**原码**：最高位为符号位，0表示正数，1表示复数。其中数值0有+0与-0之分。其数值范围$-(2^{n-1}-1)$~$(2^{n-1}-1)$。8位时范围$-127$～$+127$

**反码**：正数的反码与原码相同；负数符号位不变，其余位取反。数值0有两种表示方式。数值范围$-(2^{n-1}-1)$~$(2^{n-1}-1)$。8位时范围$-127$～$+127$

**补码**：正数的补码与原码相同；负数的补码在反码基础上加1。数值0只有一种表示法，即：0000 0000。数值范围$-2^{n-1}$~$2^{n-1}-1$。8位时范围$-127$～$+127$，**适合数字加减运算**

**移码**：在补码基础上符号位取反，数值0只有一种表示法，即：1000 0000。

### 1.2. 逻辑运算

**与运算（＆）**：参加运算的两个数据，按二进制位进行 “与” 运算。 运算规则： 0&0=0; 0&1=0; 1&0=0; 1&1=1;

**或运算（|）**：参加运算的两个对象，按二进制位进行 ”或“ 运算。运算规则： 0|0 = 0; 0|1 = 1; 1|0 = 1; 1|1 = 1;

**非运算**：（）：参加运算的两个对象，按二进制位进行 “非” 运算。运算规则： 0=1 “非'0 等千 1; 1 =0 “非“1 等千 0

**异或运算（＾）**：参加运算的两个数据，按二进制位进行 “异或“ 运算。**同为0异为1**；

### 1.3. 计算机结构

![](https://lgx_248920070.gitee.io/lgxblog/img/202204181822100.png)

**CPU**由运算器、控制器和寄存器组成。

**总线**：包括数据总线，地址总线，控制总线。总线分别传递对应的信息。
::: center
![](https://lgx_248920070.gitee.io/lgxblog/img/主机.draw.svg)
:::

**运算器**：完成算术运算、逻辑运算和移位操作。主要部件算术逻辑单元（ALU）、累加器、标志寄存器、寄存器组、多路转换器和数据总线。

累加寄存器AC：暂存中间的结果。

**控制器**：实现指令读入、寄存、译码和执行过程有序的发出控制信号。主要部件：程序计数器PC、指令寄存器、指令译码器、时序产生器和信号发生器组成。 

程序计数器PC：保存指令所在的地址。

**寄存器**：暂存寻址和计算过程的信息。通常分为数据寄存器、地址寄存器、状态寄存器、控制寄存器。

### 1.4. 指令系统基础-寻址方式

**指令由操作码和操作数（地址码）组成。指令长度分为固定长度和可变长度两种。**

- **操作码**：要做什么样的操作，加减乘除。
- **地址码**：操作数的地址。

**寻址方式**：寻找操作数的方式。

- **立即寻址**：指令的地址码字段给出的不是操作数的地址而是操作数本身。其特点是访问一次存储器就可同时取出指令和操作数。

- **直接寻址（寄存器寻址）**：指令的地址码字段给出操作数所在存储单元地址（寄存器号）。

- **变址寻址**：操作数的地址由某个变址寄存器的内容和位移量相加。

- **间接寻址（寄存器间接寻址）**：操作数的地址是主存（寄存器）中的存储单元的内容。

- **相对寻址**：操作数的地址由指令寄存器的内容与位移量相加。

### 1.5. CISC（**复杂指令计算机**）和RISC（**简单指令计算机**）

**复杂指令计算机CISC：**

- 指令采用可变长指令格式，指令系统丰富，使用频率差别大，处理特殊任务效率高。

- 支持更多的数据类型和寻址方式。

- 指令系统对应的控制信号复杂，大多采用微程序控制方式。

- 高级语言实现简单，效率高

**简单指令计算机RISC**

- 采取定长指令格式，精简指令数量，使用频率接近。

- 采用寄存器操作，寻址方式少。

- 大部分指令都采用硬联控制实现。

- 优化编译程序来支持高级程序语言，需要较大的存储空间

### 1.6. 流水线

将一个操作分为多个可独立处理的子操作（如取指令、译码、取操作数、执行），每个子操作在一个专门的硬件站上执行，这样一个操作需要流水线上多个站的处理才能完成。
::: center
![](https://lgx_248920070.gitee.io/lgxblog/img/202204121229537.svg)
:::

**流水线执行时间**：$T_k=(t_1+t_2+t_3)+(n-1)t_1$

最后的$t_1$ 为流水线周期，表示流水线执行时间最长的一段。

#### 6.1.1. 流水线-技术指标

- 吞吐率：$T_p=\frac {n}{T_k}$ 

  $n$为指令集数，$T_k$为流水线时间。

- 理论最大吞吐率：$t_p=\frac{1}{T}$ 

  $T$ 为流水线周期。

- 加速比：$S=\frac{T_s}{T_k}$

  $T_s$ 不使用流水线执行所需的时间。$T_k$ 为流水线时间。

- 效率：工作部件/总工作部件，具体需要看时间。

### 1.7. 存储系统

根据存储器在计算机系统中所起的作用，可分为**主存储器（内存）**， **辅助存储器（外存）**，**高速缓冲存储器（Cache）**，**控制存储器**等。为了解决对存储器要求容量大，速度快，成本低三者之间的矛盾，目前通常采用多级存储结构，即使用高速缓冲存储器、主存储器和外存储器。

#### 1.7.1. 存储器的储存方式

**顺序存取**（磁带）**直接存取**（硬盘）**随机存取**（内存）**相关存取**（Cache）

#### 1.7.2. 主存储器

主存储器又称**内存**或**主存**，由一片或多片存储芯片配以控制电路组成的。

按照存取方式分类，可分为**随机存储器RAM**（**断电数据丢失**，如内存）、**只读存储器ROM**（断电数据不丢失）
主存储器（内存）采用随机存取方式，需要对每个存储单元进行编址。

存储器总容量：$W＊B$

**W**：储存单元（word）的数量。

**B**：每个 word 由多少位（bit）组成。

主存储器（内存）采用**随机存取**方式，需要对每个存储单元进行编址。通常以word为单位进行标识，即每一个**字**一个地址，通常采用16进制表示。

存储容量相关术语：

**位**：用 bit 表示。— 个二进制表示1 个bit。
**字节**：用 B 表示。Byte。1B =8bit。
**字**： 表示CPU —次处理的二进制位数，通常为字节的整数倍。对应的字节长有： 8/16/32/64bit。

#### 1.7.3. 高速缓冲存储器（Cache）

高速存取指令和数据，存取速度快，但存储容量小。高速缓存是为了解决CPU 和主存速率不匹配，提高CPU 工作效率。

**命中率**：访问信息的概率。

例：假如执行过程中对Cache的访问次数为 $N1$ 和对主存访问为 $N2$ ，则Cache命中率为 $H＝\frac {N1}{(N1+N2)}$

平均存取时间：Cache的访问周期时间是T1、主存储器的访问周期时间是T2、命中率为H、则平均存取时间为：

$T＝H*T1+（1－H）T2$

**Cache 映射机制**：直接映射、全相联映射、组相联映射
**Cache 淘汰算法**：先进先出算法（FIFO）、最近最少使用算法、随机算法

#### 1.7.4. 外存储器

外存／辅存，存放系统程序和大型数据文件及数据库，存储容量大，存取速度慢，单位成本低。

### 1.8. 磁盘阵列（RAID）

**RAID 0**：需要两块以上磁盘，每个磁盘划分不同的区块，数据采用交叉存取和井行传输。这种磁盘利用率高(100%），读写速度最快，但由千没有数据差错控制，因此很容易发生数据错误。

**RAID 1**：磁盘成对组成，每个工作磁盘均有对应的映射，上面保存着与工作盘完全相同的数据，具有最高的安全性，但磁盘利用率为50%。

**RAID 3**：把奇偶校验码（只能查错不能纠错） 存在— 个独立的磁盘，如果— 个磁盘失效，其上的数据可以通过其他盘上数据进行异或运算得到，读盘速度快，但写入速度慢。适用千图像处理等要求高吞吐率的场合，磁盘利用率：$\frac {n-1}{n}$ 

**RAID 5**：各块磁盘进行条带化分割，相同的条带进行分布式奇偶校验，检验数据平均分配在每—块硬盘上。磁盘利用率：$\frac {n-1}{n}$

**组合RAID 技术（RAID10）**：RAID1+0 以及RAID0+1, 是RAID 0与 RAID 1 组合形式，它提供RAID 1 的安全保障同时提供RAID0 近似的访问速度。RAID 1+0 拥有更高的数据安全性在企业中更常使用。

#### 1.8.1. RAID2.0

传统RAID是基于一块块硬盘来做RAID，现在的硬盘存储空间多则10T，这要是坏了一块，重构10T的数据耗时不说，还影响同RAID组中其他硬盘的工作效率。这时RAID2.0诞生了。

RAID2.0不再以硬盘为单位做RAID，而是先将同RAID组中的所有硬盘切块，基于块来构建RAID组。

RAID2.0+底层是RAID2.0，但是上层（LUN层）又做了精细化分。原理如下：

![](https://lgx_248920070.gitee.io/lgxblog/img/202204291434179.png)

大致可以看到，底层先对硬盘切条形成CK，把各个硬盘（必须是同一类型的硬盘）的条放在一起形成CKG。再对CKG横向切割（为了让数据分散到每一块硬盘中，纵向是相同硬盘，横向是不同硬盘）。再把切割完的数据块组成Extent，把多个Extent组成LUN，最后映射给主机使用。

同时可以看到热备盘也由原来的一块实体盘改成了由多个不同硬盘组成的块来充当热备盘。

### 1.9. 系统可靠性

串联系统：比如CPU无法正常工作了，那么内存也是无法正常工作，这个就叫做串联系统。

串联系统的可靠性： $R = R_1* R_2 * …… * R_n$

其中 $R_n$ 表示各个部件不能正常工作的概率。

并行系统：有几条内存同时工作，这个就叫做并行系统。

并行系统的可靠性： $R = 1-(1-R_1)* (1-R_2) * …… * (1-R_n)$

## 2. 操作系统概述

<iframe :src="$withBase('/markmap/1.html')" width="100%" height="400" frameborder="0" scrolling="No" leftmargin="0" topmargin="0"></iframe>

### 2.1. 程序设计语言

- 机器语言

- 汇编语言

- 高级语言

  - 编译语言

  - 翻译语言
- 4GL语言

###  2.2. 进程管理-进程的状态

::: center
![](https://lgx_248920070.gitee.io/lgxblog/img/202205071059480.svg)
:::

### 2.3. 进程管理-死锁问题

进程管理是操作系统的核心，但如果设计不当，就会出现死锁的问题。如果一个进程在等待一个可能发生的事，那进程就死锁了。

而如果一个或多个进程产生死锁，就会造成系统死锁。

#### 2.3.1. 产生死锁的必要条件

1. **互斥条件**：进程要求对所分配的资源进行排它性控制，即在一段时间内某资源仅为一进程所占用。
2. **请求和保持条件**：当进程因请求资源而阻塞时，对已获得的资源保持不放。
3. **不剥夺条件**：进程已获得的资源在未使用完之前，不能剥夺，只能在使用完时由自己释放。
4. **环路等待条件**：在发生死锁时，必然存在一个进程–资源的环形链。（你等我我等你）

#### 2.3.2. 死锁预防

1. 资源一次性分配：一次性分配所有资源，这样就不会再有请求了：（破坏请求条件）
2. 只要有一个资源得不到分配，也不给这个进程分配其他的资源：（破坏请保持条件）
3. 可剥夺资源：即当某进程获得了部分资源，但得不到其它资源，则释放已占有的资源（破坏不可剥夺条件）
4. 资源有序分配法：系统给每类资源赋予一个编号，每一个进程按编号递增的顺序请求资源，释放则相反（破坏环路等待条件）

### 2.4. 进程管理-银行家算法

银行家算法：分配资源的原则

- 当一个进程对资源的最大需求量不超过系统中的资源数时可以接纳该进程。
- 进程可以分期请求资源，但请求的总数不能超过最大需求量。
- 当系统现有的资源不能满足进程尚需资源数时，对进程的请求可以推迟分配，但总能使进程在有限的时间里得到资源。

![](https://lgx_248920070.gitee.io/lgxblog/img/202206291844029.jpg)

### 2.5. 进程管理-进程的互斥与同步

![](https://lgx_248920070.gitee.io/lgxblog/img/202206291840954.jpg)

### 2.6. 进程管理-PV操作

**临界区**：每个进程中访问临界资源的那段代码称为临界区。

**信号量**：是一种特殊的变量。

- 互斥信号量

- 同步信号量

**PV操作**：解决互斥和同步的问题。

PV操作是分开来看的：

**P操作**：使 $S=S-1$ ，若 $S>=0$ ，则该进程继续执行，否则该进程排入等待队列。

**V操作**：使 $S=S+1$ ，若 $S<=0$ ，则唤醒等待队列的一个进程。

### 2.7. 存储管理

#### 2.7.1. 页式存储

**基本原理**： 将各进程的虚拟空间划分为若干个长度相等的**页**， 把内存空间与页相等的大小划分为大小相等的片或页面， 采用请求调页或预调页技术实现内外存的统—管理。
**优点**： 利用率高， 产生内存碎片小， 内存空间分配及管理简单。

**缺点**：要有相应的硬件支持， 增加了系统开销； 若请求调页的算法选择不当， 则可能产生”抖动“ 现象。

**页表**：分成了页号和页内地址两块。页面大小为：**4KB**

![img](https://lgx_248920070.gitee.io/lgxblog/img/202207132124590.png)

![img](https://lgx_248920070.gitee.io/lgxblog/img/202207132121329.png)

#### 2.7.2. 页面置换算法

在进程运行的过程中，若其访问的页面不存在内存中，则会产生缺页中断。如果此时内存中没有空闲的页面，操作系统就需要在内存中选择一个页面将其移出，从而可以将需要访问的页面调入内存中。而用来选择淘汰哪一页的算法就叫做页面置换算法。

##### OPT(最佳置换算法)

最佳置换算法：每次选择淘汰的页面将是以后**永不使用**或者**最长时间内不在被访问**的页面。这样可以保证最低的缺页率。

例如：假如操作系统给进程分配了3个内存块，并且该进程接下来会依次访问7，5，2，3，6，2，7，1，6，7，2，3，7，2，7。

![v2-e4b526193b9505cb4f1fd476181212db_1440w](https://lgx_248920070.gitee.io/lgxblog/img/202207132137739.jpg)

如图所示，在第4步中，需要把3号页面调入内存，此时内存已经满了，所以需要从7，5，2中选择一个页面进行淘汰。按照**最佳置换**算法规则，往后寻找，此时2和7会被先后访问，所以把5号页面淘汰，即**最长时间内不在被访问**的页面。

##### FIFO(先进先出算法)

FIFO算法是最简单的页面置换算法。顾名思义，FIFO每次淘汰的页面是**最早进入内存**的页面。FIFO的实现方法是把调入内存的页面按先后顺序放入队列中，当需要置换页面时，选择队头的页面即可。

例如：假如操作系统给进程分配了3个内存块，并且该进程接下来会依次访问7，5，2，3，6，2，7，1，6，7，2，3，7，2，7。页面在内存中的表现如下所示：

![v2-8e87fd3057c0d4a6b0d53be379880aec_1440w 拷贝](https://lgx_248920070.gitee.io/lgxblog/img/202207141023845.jpg)

##### LRU(最近最久未使用算法)

LRU(Least Recently Used),每次淘汰的页面是**最近最久未使用的页面**。所以需要去记录该页面上次被访问以来所经历的时间t。当需要淘汰页面时，选择内存中现有页面中t最大的，即最近最久未使用的页面。

如：假如操作系统给进程分配了3个内存块，并且该进程接下来会依次访问7，5，2，3，6，2，7，1，6，7，2，3，7，2，7。页面在内存中的表现如下所示：

![v2-8e87fd3057c0d4a6b0d53be379880aec_1440w 拷贝](https://lgx_248920070.gitee.io/lgxblog/img/202207141043585.jpg)

##### LFU(最近最少使用算法)

LFU(最近最少使用算法)，它是基于"**如果一个数据在最近一段时间内使用次数很少，那么在将来一段时间内被使用的可能性也很小**“的思路。注意LFU和LRU算法的不同之处，LRU的淘汰规则是基于访问时间，而LFU是基于访问次数的。

如：假如操作系统给进程分配了3个内存块，并且该进程接下来会依次访问5，4，5，3，3、2、5、1、4。页面在内存中的表现如下所示：

![v2-03bf28285a5d7071659dab8d3fbbf59f_1440w 拷贝](https://lgx_248920070.gitee.io/lgxblog/img/202207141049984.jpg)

如图所示，在第八步中需要把1号页面调入内存，而此时内存已满，需要从5、2、3中选择一个页面进行淘汰。按照LFU规则，2号页面最近一段时间内使用次数为1，它是最小的。所以把2号页面淘汰出去。

#### 2.7.3. 文件管理

##### 树形目录结构

树形目录结构可以很方便地对文件进行分类，层次结构清晰，也能够更有效地进行文件的管理和保护。

**绝对路径**：完整的描述文件位置的路径就是绝对路径。

**相对路径**： 所谓相对路径，顾名思义就是自己相对目标的位置，不论将这些文件放到哪里，只要他们的相对关系没变， 就不会出错。

#### 2.7.4. 设备管理

##### 数据传输控制方式

按照 I/O 控制功能的强弱，以及和CPU之间联系方式的不同，可把I/O 设备的数据传输方式分为4种：

- 程序直接控制方式（ 查询控制方式）
- 中断控制方式
- DMA方式
- 通道方式

**程序控制方式**：在程序的主动控制下，通过读取状态寄存器了解接口的清况，完成相应的程序操作。为了及时了解接口的状态，需要时间密集的查询操作。CPU 效率低。

**中断控制方式**：当接口出现需要程序干预的事件，通过中断通知CPU , CPU 再读取状态寄存器，确定事件的种类，以便执行不同的代码处理。CPU 效率高而且及时。

**DMA(Direct Memory Access)控制方式**：CPU与接口的数据传送采用DMA 传送，即传送的具体过程由硬件( DMA控制器）完成，传送速度比通过CPU 快，尤其是在批量传送时效率很高。

## 3. 系统开发与项目管理基础

### 3.1. 软件生命周期

软件产品从计划到软件交付使用， 直到最终退出为止的过程。包括**可行性分析和项目开发计划**、**需求分析**、**概要设计**、**详细设计**、**编码**、**测试**及**维护**阶段。

### 3.2. 软件开发模型

分为 **瀑布模型**、**螺旋模型**、**喷泉模型**、**原型化模型**、**演化模型**

**瀑布模型**：严格遵循软件生命周期各阶段的固定顺序， —个阶段完成再进入另一阶段， 适用千结构化开发方法。
瀑布模型分为以下几个阶段：
软件计划、需求分析、软件设计、程序编码、软件测试、运行维护
瀑布模型的优点：

1. 为项目提供按阶段划分的检查点。
2. 当前阶段完成后， 只需关注后续阶段
3. 可在迭代模型中应用瀑布模型
4. 适用千大规模系统项目

瀑布模型的缺点：

1. 各阶段划分完全固定， 阶段之间产生大量文档， 增加了工作量。

2. 用户直到工程末期才能见到开发成果， 增加了开发风险。

3. 不适应用户需求变化。

**原型化模型**：开发人员对用户提出问题进行总结， 就主要需求达成—致意见， 开发—个原型并运行， 然后对原型进行反复修改， 使之完善。衡量原型化模型开发人员能力标准是快速获取需求能力。

优点： 用户需求清楚， 降低开发风险与成本用户参与决策， 减少项目管理， 要求完整的生命周期
缺点： 不适用大型系统， 系统难于维护。

**演化模型**：根据用户需求， 快速分析构造该软件的—个初始版本， 称之为原型， 根据用户在使用原型过程中提出的建议改进原型， 获得原型的新版本， 重复这一过程， 使用户最终获得满意的软件产品。

**螺旋模型**：将瀑布模型和原型模型结合， 强调了其它模型所忽略的风险分析， 适合大型复杂系统。
优点： 支持用户需求的动态变化， 降低风险。
缺点： 增加开发成本

**喷泉模型**：主要用千描述面向对象的开发过程， 核心的特点是迭代。所有开发活动没有明显边界， 允许各种开发活动交叉进行。

### 3.3. 软件测试

**白盒测试**：需要了解程序内部结构，测试用例是根据程序内部逻辑来设计。白盒测试用于软件的单元测试。

**黑盒测试**：对软件已经实现的功能是否满足需求进行测试和验证。黑盒测试不关心内部逻辑结构，只根据程序的功能说明来设计测试用例。黑盒测试用于软件的功能测试。

**灰盒测试**：关注输出对千输入的正确性，同时也关注内部表现，但不像白盒那样详细完整。

**测试的步骤**：单元测试、集成测试、系统测试、验收测试

### 3.4. 项目管理

项目管理可分为九大类，分别是：范围管理，时间管理，成本管理，质量管理，人力资源管理，沟通管理，风险管理，采购管理，整体管理。

#### 3.4.1. 时间管理

**甘特图**：用水平线段表示任务的工作阶段；线段的起点和终点对应任务的开始和完成；线段的长度表示完成任务所需时间。

![](https://lgx_248920070.gitee.io/lgxblog/img/202207272138273.svg)

相关计算：

**松弛时间**：关键路径所需时间 － 从节点开始到项目完成时间或该节点最晚开始时间－ 最早开始时间

**最晚开始时间**：关键路径用时 － 该节点到项目完成用时。

**最早开始时间**：项目开始到该节点需要的最长时间。

**关键路径**：所有路径所需时间最长的路径为关键路径，也可以理解为松弛时间为 0 的任务构成了完成整个工程的关键路径。

甘特图优点： 清晰的描述每个任务从何时开始到何时结束以及各任务之间的井行性。
甘特图缺点：不能反映任务之间的依赖关系，难以确定任务关键所在，也不能反映任务中有潜力部分。

## 4. 知识产权

**知识产权( intellectual property )** ， 也称知识所属权， 是指权利人对其智力劳动所创作的成果和经营活动中的标记、信誉所依法享有的专有权利。
知识产权是一种无形财产， 具有**专有性**、**时间性**和**地域性**的特点， 且大部分知识产权的获得需要法定的程序。知识产权有两类： **著作权**和**工业产权**。

### 4.1. 知识产权涉及的内容

**知识产权的分类**：著作权和工业产权及其所包含的权力种类。
所涉及的法律法规：
*《中华人民共和国著作权法》《计算机软件保护条例》《中华人民共和国商标法》《中华人民共和国专利法》《中华人民共和国反不正当竞争法》*
往年考试设涉及考点：
保护期限、知识产权人确定、侵权判断

| 客体类型                 | 权力类型                                       | 保护期限                                                     |
| ------------------------ | ---------------------------------------------- | ------------------------------------------------------------ |
| 公民作品                 | 署名权、修改权、保护作品完整权                 | 没有限制                                                     |
|                          | 发表权、使用权、获得报酬权                     | 作者终身机器死亡后的五十年。                                 |
| 单位作品                 | 发表权、使用权、获得报酬权                     | 首次发表后五十年， 若期间未发表， 不保护。                   |
| 公民软件作品             | 署名权、修改权                                 | 没有限制                                                     |
|                          | 发表权、复制权、发行权、出租权、信息网络传播权 | 作者终身机器死亡后的五十年， 合作开发， 以最后死亡作者为准。 |
|                          | 翻译权、使用许可权、获得报酬权、转让权         |                                                              |
| 单位软件作品             | 发表权、复制权、发行权、出租权、信息网络传播权 | 首次发表后五十年， 若期间未发表， 不保护。                   |
| 注册商标                 |                                                | 有效期十年（ 注册人死亡或倒闭一年后可注销， 期满6个月内必须续注） |
| 发明专利权               |                                                | 保护期二十年（ 自申请之日起）                                |
| 实用新型和外观设计专利权 |                                                | 保护期十年（ 自申请之日起）                                  |
| 商业秘密                 |                                                | 不确定， 公开后公众可用                                      |

### 4.2. 著作权

作者对其创作的作品享有的人身权和财产权自软件开发完成之日起保护期为50 年期满后，除人身权外其他权利终止。分为**著作人格权**与**著作财产权**。
**人格权**包括： 署名权、发表权、修改权和保护作品完整权
**财产权**包括： 发行权、出租权、展览权、表演权和信息网络传播权
合理使用是指可不经著作权人许可， 也无需支付报酬， 使用其作品。
公民作品保护期限为作者终身及死后50 年， 合作的作品， 以最后—名作者死亡为准。

**著作权归属**：

1. 职务开发软件著作权归单位。包括： 本职工作明确的开发目标或从事本职工作活动的结果。
2. 利用单位资金、专用设备、未公开的信息等物质技术条件， 并由单位承担责任的软件， 著作权归单位。
3. 合作开发软件著作权—般为共同所有， 如果有软件著作权协议， 按协议确定著作权归属。
4. 委托开发的软件， 著作权归属由委托人和受托人通过合同约定， 如果未明确， 著作权归属受托人。
5. 接受任务开发的软件， 著作权归属在合同中明确约定的—方， 未明确的， 属千软件开发单位。
6. 只进行组织、提供咨询意见、物质条件或其他辅助工作不享有著作权。

**侵权判定**：

1. 中国公民、法人和组织的作品， 不论发表是否发表均享有著作权。
2. 开发软件所用思想、处理过程、操作方法及数学概念不受保护。
3. 法规、决定、命令、立法文件、官方译文、新闻和通用数表不受保护。

**以下属于合理使用**：

1. 个人学习、研究或欣赏， 适当引用不构成侵权。
2. 为介绍、评论某—作品或说明某—问题， 在作品中适当引用他人已发表的作品。
3. 公开演讲内容、免费表演他人作品、不够成侵权。
4. 用户教学或科学研究不构成侵权。
5. 将汉语译成少数民族语言作品或盲文出版不构成侵权。

### 4.3. 专利权

由国务院相关部门授予的， 对发明创造者在规定的时间内享有的独占使用权。
发明专利的保护时限为自申请日起 20 年， 实用新型专利和外观设计专利为自申请日起 10 年。
两个以上申请人分别对同样的发明创造申请专利， 专利权授予最先申请的人。同时申请专利，在收到国务院专利行政部门通知后， 自行协商确定申请人，协商不成的均予以驳回。同样的发明创造，只能授予—项专利。
**强制实施许可**： 法律规定不经专利权人许可而实施专利权人之专利的不构成侵权。
**下列情况专利权归属单位**：

1. 履行本单位交付的本职工作外的任务所作出的发明。
2. 离职、退休或调动工作1 年后与原单位相关的发明。
3. 职务发明创造。
4. 利用本单位的物质技术条件完成发明创造， 其专利权依据合同约定。

## 5.  数据通信基础

### 5.1. 数据通信系统的模型

#### 5.1.1. 通信术语

**模拟信号**：是在一段连续的时间间隔内，其代表信息的特征量可以在任意瞬间呈现为任意数值的信号。

**数字信号**：是信息用若干个明确定义的离散值表示的时间离散信号。

**码元**：单位时间内信号波形的变换次数。

#### 5.1.2. 数据通信系统的模型

![](https://lgx_248920070.gitee.io/lgxblog/img/202209051631344.png)

![](https://lgx_248920070.gitee.io/lgxblog/img/202209051638777.jpg)

![](https://lgx_248920070.gitee.io/lgxblog/img/202209051746549.jpg)



**奈奎斯特定理**（在无噪声干扰的信道上传输） 数据速率：
$$B = 2W$$
$W$ ：信道带宽；单位是（$Hz$）

$B$：最大码元速率（波特率）

极限数据速率 $R$ （单位 $bps$）：

$$R=B*\log_2N$$

**香农定理**（在有噪声干扰的信道上传输） 数据速率：

$$C=W\log_2(1+S/N)$$

$C$：极限数据速率（$bps$）

$W$ ：信道带宽；单位是（$Hz$）

使用香农定理时，由于 $S/N$ （信噪比）的比率通常过大，因此通常使用**分贝数** $dB$ 来表示。

**分贝与信噪比的关系**：

$$dB=10\log_{10}{(S/N)}$$

例如，当 $S/N=1000$ 时，分贝表示是 30 $dB$ ，带宽为 3$khz$，此时极限速率 $C$ 为：

$$C=3000*\log{2}{(1+1000)}=3000*9.97=30bps$$

### 5.2. 调制技术-模拟信道传送数字数据

| 调制技术        | 说明                                                         | 码元种类 | 比特位 | 特点                                                       |
| --------------- | ------------------------------------------------------------ | -------- | ------ | ---------------------------------------------------------- |
| ASK（幅移键控） | 用恒定的载波振幅值表示一个数，（通常是1），无载波表示另一个数。 | 2        | 1      | 实现简单，但抗干扰性差，效率低（典型数据率为1200bps）      |
| FSK（频移键控） | 由载波频率（$f_e$）附近的两个频率（$f_1$、$f_2$）表示两个不同值，$f_e$恰好为中值。 | 2        | 1      | 抗干扰性较ASK更强，但占用带宽较大，（典型数据率为1200bps） |
| PSK（相移键控） | 用载波的相位偏移来表示数据值                                 | 2        | 2      | 抗干扰性最好，而且相位的变化可以作为定时信息来同步时钟。   |
| 4DPSK           | 四差分相移键控                                               | 4        | 2      | 每90 °表示一种状态。                                       |
| QPSK            | 正交相移键控                                                 | 4        | 2      | 每90 °表示一种状态。                                       |
| MQAM            | 正交幅度调制                                                 |          |        | 相位和幅度联合键控的调制方式。                             |

![](https://lgx_248920070.gitee.io/lgxblog/img/202209091441087.jpg)

### 5.3. 调制技术-数字信道传送模拟数据

PCM脉冲编码调制技术

- **采样**：每隔一定的时间间隔，取模拟信号的当前值作为样本。（奈奎斯特采样定律：采样频率大于模拟信号的最高频率的2倍）

- **量化**：用多少位的二进制值来表示这个样本。
- **编码**：把各个样本串接起来，用编码。

### 5.4. 数字编码与编码效率-基本编码

![](https://lgx_248920070.gitee.io/lgxblog/img/202209131053227.jpg)

**单极性码**：只有一个极性，正电平为0，零电平为1 ;

**极性码**：两个极性，正电平为0，负电平为1 ;

**双极性码**：零电平为0，正负电平交替翻转表示1，这种编码不能定时，需要引入**时钟**。

**归零码**：码元中间信号回归到零电平，正电平到零电平转换边为0，负电平到零电平的转换边为1 。这种码元自定时。

**不归零码**：码元中间信号不归零，1 表示电平翻转，0 不翻转。

**双相码**：低到高表示0，高到底表示1。这种编码抗干扰性好，实现自同步。

**曼彻斯特码**：**低到高**表示0，**高到底**表示1。相反亦可。码元中间电平转换既表示数据，又做定时信号。用于**以太网编码**，常用于**10M以太网**，编码效率为50%。

**差分曼彻斯特码**：每—位( bit ) 开始处是否有电平翻转，有电平翻转表示0，无电平翻转表示1。编码效率为50%。



### 5.5. 数字编码与编码效率

| 编码方案 | 说明                                      | 效率               | 典型应用                     |
| -------- | ----------------------------------------- | ------------------ | ---------------------------- |
| 4B/5B    | 每次对4位数据进行编码，将其转化为5位符号  | 1.25波特/位，即80% | 100Base-FX，100Base-TX，FDDI |
| 8B/10B   | 每次对8位数据进行编码，将其转化为10位符号 | 1.25波特/位，即80% | 千兆以太网                   |
| 8B/6T    | 8bit映射为6个三进制位                     | 0.75波特/位        | 100Base-T4                   |

### 5.6. 复用技术

多路复用技术是把多个低速信道组合成一个高速信道的技术。它可以有效地提高数据链路的利用率，从而使得一条高速的主干链路同时为多条低速的接入链路提供服务，也就是使得网络干线可以同时运载大量的语音和数据传输。

![](https://lgx_248920070.gitee.io/lgxblog/img/202209131314203.jpg)



**空分复用（SDM）**：让同一个频段在不同的空间内得到重复利用，称之为空分复用，比如在卫星通信中就使用该技术。

**频分多路复用（FDM）**：在同一物理连接上使用多个**不同频率**的模拟载波信号进行多路传输。

**时分多路复用（TDM）**：在同—物理连接的**不同时段**来传输不同的信号。

**波分多路复用（WDM）**： 在同—根**光纤中**同时传输两个或众多**不同波长光信号**的技术。

**码分多路复用（CDM）**：依靠**不同的编码**来区分各路原始信号的一种复用方式。

#### 5.6.1. 常见复用标准

| 名称       | 原理与组成                                                   | 应用场景                 |
| ---------- | ------------------------------------------------------------ | ------------------------ |
| E1载波     | 采用同步**时分复用**技术将**30个话音信道**（64K）和两个**控制信道**CHO，CH16（64K）复合在一条**2.048Mbps**的高速信道上 | 欧洲发起，除美，日外多用 |
| E2         | **8.488Mbps**                                                | 相当于 **4E1**           |
| E3         | **34.368Mbps**                                               | 相当于 **4E2**           |
| E4         | 139.264Mbps                                                  | 相当于 4E3               |
| T1载波     | 采用同步**时分复用**技术将**24个话音通路**复合在一条**1.544Mbps**的高速信道上 | **美国和日本**           |
| T2（DS2）  | 由4个T1时分复用构成，达到**6.312Mbps**                       | 美国                     |
| T3（DS3B） | 由**7个T2**时分复用构成，达到**44.736Mbps**                  | 美国                     |
| T4（DS4B） | 由6个T2时分复用构成，达到274.176Mbps                         | 美国                     |

### 5.7. 通信方式

![](https://lgx_248920070.gitee.io/lgxblog/img/202209131337240.jpg)

### 5.8. 差错控制

检错：检查出错误，不知道错误在哪。

纠错：检查出错误，知道错误是哪一位并加以纠正。

**码距**：一种编码两个码字间变化的二进制数字为码距。

**最小码距**： 一种编码中任意两个码字之间**最少变化的二进制位数**。



在一个码组内为了检测e个误码，要求最小码距应满足 d>=e+1

在一个码组内为了纠正e个误码，要求最小码距应满足 d>=2t+1

#### 5.8.1. 奇偶校验

检错码 = 信息字段 + 校验字段

添加 1 位校验码，使码字中 `1` 的个数为奇数，则为**奇校验**。

添加 1 位校验码，使码字中 `1` 的个数为偶数，则为**偶校验**。

设要传送比特信息为 `C1C2C3C4C5`，其中校验字段 `C6` 取值 “0”或“1”，经过编码以后变成六比特编码码字，其中校验位 `C6` 应满足下列关系：

$$C1 ⊕ C2 ⊕ C3 ⊕ C4 ⊕ C5 ⊕ C6 = 0$$

算式中的加法使模二加，上式的**右边等于零**称为**偶校验**，此时代表等式的左边含偶数个1；

上式的**右边等于一**称为**奇校验**，此时代表等式的左边含奇数个1；

#### 5.8.2. 海明校验

海明码校验位为$k$,信息位为$m$,则它们之间的关系应满足：

$$m+k+1<= 2^k$$

原始信息为 101101 ，确定海明码校验位长为：

$6+k+1<=2^k$，可得到 $k$ 为 4。

推导过程忽略。

#### 5.8.3. CRC校验

要计算CRC校验码，需根据CRC生成多项式进行。

例如：原始报文为 11001010101，其生成多项式为 $x^4+x^3+x+1$，如图：

![](https://lgx_248920070.gitee.io/lgxblog/img/202209141743044.jpg)

最后将0011填写到原始报文的后面。

步骤：

1. 原始信息后填 "0"，根据CRC生成多项式最高幂次填写，生成多项式为 $x^4+x^3+x+1$，所以在原始信息后填4个0。
2. 把生成多项式转换为二进制数表示形式，存在 x 幂次方则为1，不存在则为0。如 11011 就是根据 $x^4+x^3+x+1$ 与 x 幂次方进行计算。
3. 利用模2除法进行计算。实际上就是二进制的异或运算。余数不足则在前面添加足够位数的 0 来补全。

| 网络协议          | CRC位       | 应用点                     |
| ----------------- | ----------- | -------------------------- |
| HDLC              | CRC16/CRC32 | 除帧标志位外的全帧         |
| FR（帧中继）      | CRC16       | 除帧标志位外的全帧         |
| ATM               | CRC8        | 帧头校验                   |
| 以太网（802.3）   | CRC32       | 帧头（不含前导和帧起始符） |
| 令牌总线（802.4） | CRC32       | 帧头（不含前导和帧起始符） |
| 令牌环（802.5）   | CRC32       | 帧头（从帧控制字段到LLC）  |
| FDDI              | CRC32       | 帧头（从帧控制字段到INFO） |

## 6.  网络体系结构

### 6.1. 计算机网络的概念

定义：以能够相互共享资源的方式连接起来的独立的计算机系统的集合，其组成可分为软件、硬件及协议。

主要表现：

- 目的是实现计算机资源的共享。
- 分布在不同地理位置的多台独立的“ 自治计算机” 。
- 通信必须遵循共同的网络协议。

### 6.2. 网络的性能

![](https://lgx_248920070.gitee.io/lgxblog/img/202209151110673.jpg)

**速率（单位：b/s)**：单位时间内发送二进制数据( bit ) 流的多少。

**带宽（单位：b/s)**：表示信道能够承受最大的数据传输速率。

**吞吐率（单位：b/s)**：实际通过网络的通信量。

**时延**：又称延时，有如下种类：**发送时延（传输时延）**、**传播时延**、**处理时延**、**排队时延**等…

发送时延＝数据帧长度/信道带宽
传播时延＝信道长度（距离）/电磁波在信道上的传播速率

对于传播时延：

电缆介质为200km/ms=200m/us，具体延时时间与两地距离有关系。卫星信号的传播延迟为270ms。

### 6.3. 网络协议

定义：为网络数据交换而制定的规则、约定与标准称之为网络协议。计算机网络各节点之间必须遵守事先预定好的规则交换数据和控制信息，这些规则精确定义了所交换数据的格式和时序。

三要素：**语法、语义、时序**

语法规定了数据包的格式，语义定义数据如何处理。时序定义数据处理的顺序。
注： 通信双方对等层次上所对应的网络协议必须一致。

### 6.4. OSI模型层次结构

![](https://lgx_248920070.gitee.io/lgxblog/img/202209151128301.jpg)

**物理层**： 为数据通信提供物理通路、透明的二进制数据流（ 比特流） 传输、定义机械、电气特性和接口。

**数据链路层**： 数据链路的链接及释放， 流量控制、构成链路数据单元， 差错检测与恢复。点对点传送以数据帧为单位的信息。

**网络层**： 实现路由路径选择和网络连接的激活及终止， 网络连接的多路复用， 检错、排序、流量控制、服务选择

**传输层**： 提供**端与端**之间可靠透明的数据传输， 传输连接的建立及释放， 多路复用与分割， 差错控制及恢复， 分段、重组、排序， 流量控制。

**会话层**： 会话链接到传输链接的映射、会话链接的恢复与释放， 对会话参数进行协商、服务选择、活动管理、令牌管理。

**表示层**： 通信系统之间数据的表示方式， 如ASCII 码。数据语法转换、数据加密与压缩、连接管理。

**应用层**： 提供用户应用程序所需的应用接口和需要的协议及功能。

目前， OSI 模型只作为理论进行研究， 实际使用的为 TCP/IP 模型。

### 6.5. 数据封装与解封装

![](https://lgx_248920070.gitee.io/lgxblog/img/202209151137790.jpg)

### 6.6. OSI模型-服务访问点

![](https://lgx_248920070.gitee.io/lgxblog/img/202209151423703.jpg)

### 6.7. TCP/IP体系结构

![](https://lgx_248920070.gitee.io/lgxblog/img/202209151436321.jpg)

## 7. 局域网技术

### 7.1. 局域网概念

局域网( LAN ) 是指**有限区域**内（ 例如办公室或楼层） 的**多台计算机**通过**传输介质互联**， 所组成的封闭网络以实现**数据通信**及**资源共享**的目的。
**常用的介质**： 双绞线、同轴电缆、光纤、无线等。
**典型特点**： 覆盖的地理范围小（ 几米到几公里），具有**较高的数据传输速率**和**较低的时延**。

#### 7.1.1. 局域网拓扑结构

**总线型**： 以广播形式发送数据， 所有站点都能收到数据。所有站点同时发送数据时会发生冲突，主要传输介质为同轴电缆。
**星形**： 所有站点均连接在中心节点(HUB ) 上， 所有的数据交互均要通过中心节点， —个中心节点容易产生单点故障， 所以通常星形拓扑中的中心节点会有—个备份。
**环形**： 由一系列首尾相连的中继器组成， 每个中继器连接一个站点。需要有某种访问逻辑来控制各个站点的发送顺序， 最常用传输介质为双绞线。轻负载时效率低， 重负载时利用率高。
**树形**： 将多级中心节点(HUB ) 连接起来以扩大网络的规模， 数据可以延链路传输至链路上的任何一个站点。

### 7.2. IEEE 802标准

| 局域网标准      | 描述                                                         |
| --------------- | ------------------------------------------------------------ |
| IEEE 802.1A     | 局域网体系结构，并定义接口原语                               |
| IEEE 802.1B     | 寻址、网间互连和网络管理                                     |
| IEEE 802.2      | 描述逻辑链路控制( LLC )协议，提供OSI数据链路层的上部子层功能，以及介质接入控制( MAC )子层与LLC子层协议间的一致接口 |
| **IEEE 802.3**  | **描述CSMA/CD介质接入控制方法和物理层技术规范**              |
| IEEE 802.4      | 描述令牌总线网标准                                           |
| IEEE 802.5      | 描述令牌环网标准                                             |
| IEEE 802.6      | 描述城域网DQDB标准                                           |
| IEEE 802.7      | 描述宽带局域网技术                                           |
| IEEE 802.8      | 描述光纤局域网技术                                           |
| IEEE 802.9      | 描述综合话音/数据局域网( IVD LAN )标准                       |
| IEEE 802.10     | 描述可互操作局域网安全标准( SILS)，定义提供局域网互连的安全机制 |
| **IEEE 802.11** | **描述无线局域网标准**                                       |
| IEEE 802.12     | 描述交换式局域网标准，定义100Mb/s高速以太网按需优先的介质接入控制协议100VG-ANYLAN |
| IEEE 802.14     | 描述交互式电视网(包括Cable Modem )                           |

### 7.3. 以太网技术-CSMA/CD协议

**载波监听多路访问/冲突检测**：发送数据前先监听信道是否空闲，若空闲，则立即发送数据。在发送数据时，边发送边继续监听。若监听到冲突，则立即停止发送数据，等待一段随机时间再重新尝试。

CSMA/CD 协议避免冲突的过程：

1. **数据发送前监听**
2. **数据发送时边发边监听**
3. **发现冲突立即停发数据**
4. **数据重发**

监听算法：

- **非坚持型监听算法**：信道空闲立刻发送，信道繁忙时，**等待随机时间$t$后再发送**。特点：信道利用率更高，由于随机时间后发送，减少了冲突的概率。可能会出现增加发送时延的问题。
- **1-坚持型监听算法**：信道空闲立刻发送，信道繁忙时**持续监听**，直到**信道空闲后再发送**。特点：有利于抢占信道。可能会导致多次冲突从而降低性能。
- **P-坚持型监听算法**：信道空闲时，以**概率P去发送数据**，以**（1-P）的概率去推迟发送数据**。特点：P概率取值比较困难。

冲突检测：

以太网的端到端往返时延$2t$称为**争用期**，或**碰撞窗口**。

**最短帧长计算公式**：

$$传输时延>=2*传播时延$$

发生冲突后，立刻停止发送，并对信息进行重传。

数据重发：

随机延时重发----截断二进制指数退避算法：

1. 确定基本退避时间；
2. 从离散的整数集合$[0,1,...,(2^{n-1})]$中随机取出一个数，记为$r$。重传应推后的时间为$r$倍的争用期。参数$k$按照$k=Min[重传次数,10]$计算。
3. 当重传次数到达16次仍不能成功时，就丢弃该帧，并向高层报告。

### 7.4. 以太网技术-MAC地址

![](https://lgx_248920070.gitee.io/lgxblog/img/202209192325283.jpg)

MAC地址是由48位（6个字节）组成，对于前8位的最后一位，如果为0，则为**单播地址**，如果为1，则为**组播地址**。

MAC地址通常表示为12个16进制数，组合起来刚好为48位。

### 7.5. 以太网技术-以太网V2帧格式

![](https://lgx_248920070.gitee.io/lgxblog/img/202209192336489.jpg)

**前同步码**：7个字节，用户使接收端进入同步状态。

**帧开始定界符**：1个字节，标识信息帧开始。

**目的地址，源地址**：目的和源的MAC地址。占用6个字节。

**类型**：表示上层协议，OX0800表示上层协议为IP 协议； OX8137表示上层协议为IPX 协议。占用两个字节。

**数据**：IP数据报，占用46~1500字节。

**FCS帧校验字段**：采用CRC校验。占用4字节。

MAC帧（以太网帧） **最小帧长为64** 字节， **最大帧长1518**字节。

### 7.6. 以太网技术-网络传输介质

![](https://lgx_248920070.gitee.io/lgxblog/img/202209201651026.jpg)

双绞线分为**非屏蔽双绞线UTP**，**屏蔽双绞线STP** 。屏蔽双绞线抗电磁干扰能力更强，但传输距离更短。

**T568A**：白绿绿白橙蓝白蓝橙白棕棕

**T568B**：白橙橙白绿蓝白蓝绿白棕棕

区别为 1和3，2和6做了调换。

目前网络设备均能自动适应这两种标准，并能自动转换成合适的线序，所以一般只采用T568B的接线方式。

![](https://lgx_248920070.gitee.io/lgxblog/img/202209201933941.jpg)

| 项目     | 距离 | 速度 | 直径 | 端接 | 造价 | 光源       |
| -------- | ---- | ---- | ---- | ---- | ---- | ---------- |
| 单模光纤 | 长   | 快   | 小   | 较难 | 高   | 激光       |
| 多模光纤 | 短   | 慢   | 大   | 较易 | 低   | 发光二极管 |

### 7.7. 以太网技术-快速以太网

- 技术特点

  - 100Mbps

  - 相同的帧格式

  - 半双工/全双工

  - 100Base-T
- 传输介质标准
  - 100Base-TX：使用2对**5类UTP** , 一对用于接收， 一对用千发送。
  - 100Base-FX：使用光纤，两芯单模或者多模光纤。
  - 100Base-T4：使用3对**4类UTP** , 其中一对用于碰撞检测。
  - 100Base-T2：由100Base-T4升级而来。

### 7.8. 以太网技术-千兆以太网

- 技术特点

  - 1000Mbps
  - 相同的帧格式
  - 半双工/全双工
- 传输介质标准
  - 1000Base-T：使用4对**5类UTP** , 最大段长100米( **IEEE802.3ab** )
  - 1000Base-CX：使用2对**STP** , 传输长度25米( IEEE802.3z）
  - 1000Base-LX：使用多模光纤传输距离550米， 使用单模光纤传输距离为5干米( I EEE802.3z )
  - 1000Base-SX：使用多模光纤传输距离550米（IEEE802 . 3z )

### 7.9. 以太网技术-万兆以太网

- 技术特点

  - 10000Mbps
  - 相同的帧格式
  - 全双工
- 传输介质标准
  - 局域网物理层
  - 可选的广域网物理层

### 7.10. 以太网技术-冲突域和广播域

**冲突域**： 连接在同一传输介质上的所有工作站的集合。

**广播域**： 指接收同样广播消息的节点的集合。

|        | 分割冲突域 | 分割广播域 |
| ------ | ---------- | ---------- |
| 集线器 | ✗          | ✗          |
| 交换机 | ✓          | ✗          |
| 路由器 | ✓          | ✓          |

### 7.11. 以太网技术-交换式以太网

交换式以太网是以**交换式集线器**或者**交换机**为中心构建的**星形拓扑**结构网络，利用“ **端口/MAC地址映射表**” 进行数据交换。

**减少冲突**： 交换机将冲突隔绝在每—个端口（即**每个端口都是—个冲突域**），避免了冲突的扩散。

**提升带宽**：接入交换机的每个节点都可以使用全部的带宽，而不是各个节点共享带宽。

- 广播：如果目标地址在MAC地址表中没有，交换机就向除接收到该数据帧的端口外的其他所有端口广播该数据帧
- 学习：MAC地址表是交换机通过学习接收的数据帧的源MAC地址来形成的
- 转发：交换机根据MAC地址表**单播**转发数据帧
- 更新：交换机MAC地址表的老化时间是**300秒**

交换机如果发现一个帧的入端和MAC地址表中源MAC地址的所在端口不同,交换机将MAC地址重新学习到新的端口

### 7.12. 以太网技术-堆叠和级联

- 级联可通过一根双绞线在任何网络设备厂家的交换机之间进行
- 级联可以使用普通端级联也可使用uplink端口级联
- 堆叠只有在自己厂家的设备之间进行
- 堆叠需要专用的堆叠模块和堆叠线缆
- 堆叠后的所有交换机可视为一个整体交换要来进行管理

### 7.13. VLAN

VLAN 技术解决了局域网互联时无法限制广播的问题， 每个VLAN一个**广播域**，不同VLAN之间不能通信， 如果需要通信，需要增加三层设备。

### 7.14. IEEE 802.1Q

![](https://lgx_248920070.gitee.io/lgxblog/img/202209212039169.jpg)

其中，VLANID占了12位，0和4096都是不可使用的。

**VLAN划分方法**：

- **基于端口的划分**：静态VLAN
- **基于MAC地址的划分**：动态VLAN
- **基于网络层协议的划分**：动态VLAN
- **基于子网的划分**：动态VLAN
- **基于策略的划分**：如基于MAC+端口进行划分VLAN。动态VLAN

**以太网端口的类型**：

- Access 端口：主要用于连接终端，特点是**仅允许一个VLAN**的帧通过。
- Trunk 端口：主要用于连接其它交换机端口,特点是**允许多个VLAN**通过，并且**除了缺省VLAN**外,其它VLAN都**带标签通过Trunk端口**。当VLAN为1（**缺省VLAN**）时，通过Trunk端口进行转发时，会把标签去除掉，另外一个交换机收到之后，会打上PVID（**缺省VLAN**），在交换机内部进行转发。
- Hybrid 端口：即可以用于连接终端，又可以连接其它交换机、路由器设备，特点是允许一个或多个VLAN的帧通过，并且**可以选择**是**带标签还是不带标签**。

### 7.15. VLAN注册协议-GVRP协议



