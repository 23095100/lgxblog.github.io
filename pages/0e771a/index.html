<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MySQL初学者速查手册</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="小刘Talk">
    <meta name="keywords" content="博客,个人技术博客,运维,运维开发,技术文档,学习,面试,shell,linux,python,git,github,markdown,mysql,k8s,kubernetes">
    <meta name="baidu-site-verification" content="codeva-0ulOnZ5mxo">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.d57f1eed.css" as="style"><link rel="preload" href="/assets/js/app.44d32a86.js" as="script"><link rel="preload" href="/assets/js/3.5c73636d.js" as="script"><link rel="preload" href="/assets/js/2.db635a7e.js" as="script"><link rel="preload" href="/assets/js/55.d7679bad.js" as="script"><link rel="prefetch" href="/assets/js/1.e72d3a41.js"><link rel="prefetch" href="/assets/js/10.470c875d.js"><link rel="prefetch" href="/assets/js/100.7694e90b.js"><link rel="prefetch" href="/assets/js/101.de773466.js"><link rel="prefetch" href="/assets/js/102.e43f5886.js"><link rel="prefetch" href="/assets/js/103.aca15b97.js"><link rel="prefetch" href="/assets/js/104.e24987b7.js"><link rel="prefetch" href="/assets/js/105.8bd03527.js"><link rel="prefetch" href="/assets/js/106.7fdba3dc.js"><link rel="prefetch" href="/assets/js/107.5fae7fa1.js"><link rel="prefetch" href="/assets/js/108.f94c3bca.js"><link rel="prefetch" href="/assets/js/109.2c9d1cb9.js"><link rel="prefetch" href="/assets/js/11.55f1c469.js"><link rel="prefetch" href="/assets/js/110.3fed7898.js"><link rel="prefetch" href="/assets/js/111.0d7db2f7.js"><link rel="prefetch" href="/assets/js/112.9b58d506.js"><link rel="prefetch" href="/assets/js/113.34d227b2.js"><link rel="prefetch" href="/assets/js/114.e9ad4589.js"><link rel="prefetch" href="/assets/js/115.44a97d6b.js"><link rel="prefetch" href="/assets/js/116.1f447402.js"><link rel="prefetch" href="/assets/js/117.cf394d3b.js"><link rel="prefetch" href="/assets/js/118.6d145301.js"><link rel="prefetch" href="/assets/js/119.699a5b7f.js"><link rel="prefetch" href="/assets/js/12.ace28f5c.js"><link rel="prefetch" href="/assets/js/13.fe678adb.js"><link rel="prefetch" href="/assets/js/14.c4c56345.js"><link rel="prefetch" href="/assets/js/15.64878322.js"><link rel="prefetch" href="/assets/js/16.8c8ec038.js"><link rel="prefetch" href="/assets/js/17.51ce6f53.js"><link rel="prefetch" href="/assets/js/18.442ae8be.js"><link rel="prefetch" href="/assets/js/19.26a7830a.js"><link rel="prefetch" href="/assets/js/20.dccf36d3.js"><link rel="prefetch" href="/assets/js/21.93b93844.js"><link rel="prefetch" href="/assets/js/22.38e4c041.js"><link rel="prefetch" href="/assets/js/23.3a0f8d61.js"><link rel="prefetch" href="/assets/js/24.413b5042.js"><link rel="prefetch" href="/assets/js/25.4a54145c.js"><link rel="prefetch" href="/assets/js/26.873467b0.js"><link rel="prefetch" href="/assets/js/27.ef81b63e.js"><link rel="prefetch" href="/assets/js/28.e2b2c0e2.js"><link rel="prefetch" href="/assets/js/29.4a63077a.js"><link rel="prefetch" href="/assets/js/30.f238d48e.js"><link rel="prefetch" href="/assets/js/31.20151c7b.js"><link rel="prefetch" href="/assets/js/32.789d4b08.js"><link rel="prefetch" href="/assets/js/33.77a02530.js"><link rel="prefetch" href="/assets/js/34.e80359b2.js"><link rel="prefetch" href="/assets/js/35.7735b97c.js"><link rel="prefetch" href="/assets/js/36.5d720e2d.js"><link rel="prefetch" href="/assets/js/37.f22b373b.js"><link rel="prefetch" href="/assets/js/38.2b1182b1.js"><link rel="prefetch" href="/assets/js/39.0bc42f00.js"><link rel="prefetch" href="/assets/js/4.4513d890.js"><link rel="prefetch" href="/assets/js/40.8e27bbe7.js"><link rel="prefetch" href="/assets/js/41.06d0a91c.js"><link rel="prefetch" href="/assets/js/42.d0918d04.js"><link rel="prefetch" href="/assets/js/43.e9cc4f5a.js"><link rel="prefetch" href="/assets/js/44.1c5d322b.js"><link rel="prefetch" href="/assets/js/45.eddf4d4f.js"><link rel="prefetch" href="/assets/js/46.2436424e.js"><link rel="prefetch" href="/assets/js/47.5bbd7b8f.js"><link rel="prefetch" href="/assets/js/48.6666c1dd.js"><link rel="prefetch" href="/assets/js/49.ecb5c6e0.js"><link rel="prefetch" href="/assets/js/5.8eeb4257.js"><link rel="prefetch" href="/assets/js/50.cb07db14.js"><link rel="prefetch" href="/assets/js/51.1a49d9f3.js"><link rel="prefetch" href="/assets/js/52.c9b35342.js"><link rel="prefetch" href="/assets/js/53.ab8c2c92.js"><link rel="prefetch" href="/assets/js/54.d8b74f67.js"><link rel="prefetch" href="/assets/js/56.1e1cebb6.js"><link rel="prefetch" href="/assets/js/57.e552ebc4.js"><link rel="prefetch" href="/assets/js/58.c2253558.js"><link rel="prefetch" href="/assets/js/59.894648e3.js"><link rel="prefetch" href="/assets/js/6.dc744bea.js"><link rel="prefetch" href="/assets/js/60.d518c7e3.js"><link rel="prefetch" href="/assets/js/61.683e5b01.js"><link rel="prefetch" href="/assets/js/62.e77a2932.js"><link rel="prefetch" href="/assets/js/63.de13f230.js"><link rel="prefetch" href="/assets/js/64.5e811285.js"><link rel="prefetch" href="/assets/js/65.71f077b1.js"><link rel="prefetch" href="/assets/js/66.b65bc17e.js"><link rel="prefetch" href="/assets/js/67.44201295.js"><link rel="prefetch" href="/assets/js/68.52676de0.js"><link rel="prefetch" href="/assets/js/69.190d1315.js"><link rel="prefetch" href="/assets/js/70.be689ca4.js"><link rel="prefetch" href="/assets/js/71.7a47414f.js"><link rel="prefetch" href="/assets/js/72.9fe44768.js"><link rel="prefetch" href="/assets/js/73.d609fa3b.js"><link rel="prefetch" href="/assets/js/74.24541e12.js"><link rel="prefetch" href="/assets/js/75.28e53236.js"><link rel="prefetch" href="/assets/js/76.64ac0dbd.js"><link rel="prefetch" href="/assets/js/77.7f22398e.js"><link rel="prefetch" href="/assets/js/78.75145832.js"><link rel="prefetch" href="/assets/js/79.8742b244.js"><link rel="prefetch" href="/assets/js/80.7183e01e.js"><link rel="prefetch" href="/assets/js/81.459fdba1.js"><link rel="prefetch" href="/assets/js/82.c11b9a89.js"><link rel="prefetch" href="/assets/js/83.bc962d13.js"><link rel="prefetch" href="/assets/js/84.40399def.js"><link rel="prefetch" href="/assets/js/85.3123b233.js"><link rel="prefetch" href="/assets/js/86.e000b600.js"><link rel="prefetch" href="/assets/js/87.dfeb546b.js"><link rel="prefetch" href="/assets/js/88.df6d311a.js"><link rel="prefetch" href="/assets/js/89.1f7641d5.js"><link rel="prefetch" href="/assets/js/9.fc34caf5.js"><link rel="prefetch" href="/assets/js/90.9babbd7c.js"><link rel="prefetch" href="/assets/js/91.dedab5a4.js"><link rel="prefetch" href="/assets/js/92.911a772a.js"><link rel="prefetch" href="/assets/js/93.de8e895c.js"><link rel="prefetch" href="/assets/js/94.721d7399.js"><link rel="prefetch" href="/assets/js/95.055dfde2.js"><link rel="prefetch" href="/assets/js/96.f85bbcc2.js"><link rel="prefetch" href="/assets/js/97.34d5e61c.js"><link rel="prefetch" href="/assets/js/98.04aca43a.js"><link rel="prefetch" href="/assets/js/99.6e22c440.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.0a7ee356.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d57f1eed.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="" class="logo"> <!----></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维" class="dropdown-title"><a href="/ops/" class="link-title">运维</a> <span class="title" style="display:none;">运维</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>监控</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/ops/grafana/" class="nav-link">grafana</a></li><li class="dropdown-subitem"><a href="/ops/prometheus/" class="nav-link">prometheus</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/coreSystemCommand/" class="nav-link">《核心系统命令实战》</a></li><li class="dropdown-subitem"><a href="/note/MySQLnote/" class="nav-link">《MySQL 是怎样运行的：从根儿上理解 MySQL》</a></li><li class="dropdown-subitem"><a href="/note/ansible/" class="nav-link">《Ansible权威指南》</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="专题" class="dropdown-title"><a href="/topic/" class="link-title">专题</a> <span class="title" style="display:none;">专题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/56a2b5/" class="nav-link">博客搭建</a></li><li class="dropdown-item"><!----> <a href="/pages/d7e255/" class="nav-link">git</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="编程" class="dropdown-title"><a href="/program/" class="link-title">编程</a> <span class="title" style="display:none;">编程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/3281ff/" class="nav-link">python</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="杂七杂八" class="dropdown-title"><a href="/zaqizaba/" class="link-title">杂七杂八</a> <span class="title" style="display:none;">杂七杂八</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docsDemo/" class="nav-link">文档编写规范</a></li><li class="dropdown-item"><!----> <a href="/usedcomputers/" class="nav-link">我用过的电脑</a></li><li class="dropdown-item"><!----> <a href="/buwuzhengye/" class="nav-link">喷涂相关</a></li><li class="dropdown-item"><!----> <a href="/liubing/" class="nav-link">每日一溜</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/xiaoliutalk/xiaoliutalk.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://www.xiaoliutalk.cn/img/favicon.ico"> <div class="blogger-info"><h3>小刘说</h3> <span>砥砺前行</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维" class="dropdown-title"><a href="/ops/" class="link-title">运维</a> <span class="title" style="display:none;">运维</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>监控</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/ops/grafana/" class="nav-link">grafana</a></li><li class="dropdown-subitem"><a href="/ops/prometheus/" class="nav-link">prometheus</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/coreSystemCommand/" class="nav-link">《核心系统命令实战》</a></li><li class="dropdown-subitem"><a href="/note/MySQLnote/" class="nav-link">《MySQL 是怎样运行的：从根儿上理解 MySQL》</a></li><li class="dropdown-subitem"><a href="/note/ansible/" class="nav-link">《Ansible权威指南》</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="专题" class="dropdown-title"><a href="/topic/" class="link-title">专题</a> <span class="title" style="display:none;">专题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/56a2b5/" class="nav-link">博客搭建</a></li><li class="dropdown-item"><!----> <a href="/pages/d7e255/" class="nav-link">git</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="编程" class="dropdown-title"><a href="/program/" class="link-title">编程</a> <span class="title" style="display:none;">编程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/3281ff/" class="nav-link">python</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="杂七杂八" class="dropdown-title"><a href="/zaqizaba/" class="link-title">杂七杂八</a> <span class="title" style="display:none;">杂七杂八</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docsDemo/" class="nav-link">文档编写规范</a></li><li class="dropdown-item"><!----> <a href="/usedcomputers/" class="nav-link">我用过的电脑</a></li><li class="dropdown-item"><!----> <a href="/buwuzhengye/" class="nav-link">喷涂相关</a></li><li class="dropdown-item"><!----> <a href="/liubing/" class="nav-link">每日一溜</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/xiaoliutalk/xiaoliutalk.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>zabbix</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>docker</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>kubernetes</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>harbor</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>mysql</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/0e771a/" aria-current="page" class="active sidebar-link">MySQL初学者速查手册</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/0e771a/#数据库的简单介绍" class="sidebar-link">数据库的简单介绍：</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#数据库概述" class="sidebar-link">数据库概述：</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#常用的数据库命令" class="sidebar-link">常用的数据库命令</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#表-table-的理解" class="sidebar-link">表(table)的理解</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#sql语句的分类" class="sidebar-link">SQL语句的分类</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#导入数据" class="sidebar-link">导入数据</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#查看表结构" class="sidebar-link">查看表结构</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/0e771a/#简单查询语句" class="sidebar-link">简单查询语句</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#查询一个字段" class="sidebar-link">查询一个字段</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#查询多个字段" class="sidebar-link">查询多个字段</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#查询所有字段" class="sidebar-link">查询所有字段</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#给查询的列起别名" class="sidebar-link">给查询的列起别名</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#列参与数学运算" class="sidebar-link">列参与数学运算</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#条件查询" class="sidebar-link">条件查询</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/0e771a/#排序" class="sidebar-link">排序</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#查询所有员工薪资-排序" class="sidebar-link">查询所有员工薪资，排序</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#两个字段排序-多个字段排序" class="sidebar-link">两个字段排序，多个字段排序</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#根据字段的位置排列" class="sidebar-link">根据字段的位置排列</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#综合案例" class="sidebar-link">综合案例</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/0e771a/#数据处理函数-单行处理函数" class="sidebar-link">数据处理函数（单行处理函数）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#数据处理函数又被称为单行处理函数" class="sidebar-link">数据处理函数又被称为单行处理函数</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#常见的单行处理函数" class="sidebar-link">常见的单行处理函数：</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/0e771a/#分组函数-多行处理函数" class="sidebar-link">分组函数（多行处理函数）</a></li><li class="sidebar-sub-header level2"><a href="/pages/0e771a/#分组查询" class="sidebar-link">分组查询（***）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#找出每个工作岗位的工资和" class="sidebar-link">找出每个工作岗位的工资和</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#找出每个部门的最高薪资" class="sidebar-link">找出每个部门的最高薪资</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#找出每个部门-不同工作岗位的最高薪资" class="sidebar-link">找出的最高薪资</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#找出每个部门的最高薪资-要求显示最高薪资大于3000的。使用having可以对分完组之后的数据进一步过滤。" class="sidebar-link">找出每个部门的最高薪资,要求显示最高薪资大于3000的。使用having可以对分完组之后的数据进一步过滤。</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#where没办法解决的" class="sidebar-link">where没办法解决的？</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#总结-单表查询结束" class="sidebar-link">总结（单表查询结束)</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/0e771a/#去除重复记录" class="sidebar-link">去除重复记录</a></li><li class="sidebar-sub-header level2"><a href="/pages/0e771a/#连接查询" class="sidebar-link">连接查询</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#概述" class="sidebar-link">概述：</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#连接查询的分类" class="sidebar-link">连接查询的分类</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#笛卡尔积现象" class="sidebar-link">笛卡尔积现象</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#怎么避免笛卡尔积现象" class="sidebar-link">怎么避免笛卡尔积现象</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#内连接" class="sidebar-link">内连接</a></li><li class="sidebar-sub-header level4"><a href="/pages/0e771a/#内连接之等值连接" class="sidebar-link">内连接之等值连接</a></li><li class="sidebar-sub-header level4"><a href="/pages/0e771a/#内连接之非等值连接" class="sidebar-link">内连接之非等值连接</a></li><li class="sidebar-sub-header level4"><a href="/pages/0e771a/#内连接之自连接" class="sidebar-link">内连接之自连接</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/0e771a/#外连接" class="sidebar-link">外连接</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level4"><a href="/pages/0e771a/#右外连接-右连接" class="sidebar-link">右外连接(右连接)</a></li><li class="sidebar-sub-header level4"><a href="/pages/0e771a/#左外连接-左连接" class="sidebar-link">左外连接(左连接)</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#三张表或者四张表的连接方式" class="sidebar-link">三张表或者四张表的连接方式</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/0e771a/#子查询" class="sidebar-link">子查询</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#概述-2" class="sidebar-link">概述：</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#where子句中的子查询" class="sidebar-link">where子句中的子查询</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#from子句中的子查询" class="sidebar-link">from子句中的子查询</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#select后面的子查询-了解即可-不常用" class="sidebar-link">select后面的子查询（了解即可，不常用）</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/0e771a/#union的用法" class="sidebar-link">union的用法</a></li><li class="sidebar-sub-header level2"><a href="/pages/0e771a/#limit" class="sidebar-link">limit</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#概述-3" class="sidebar-link">概述：</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#limit的用法" class="sidebar-link">limit的用法：</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#通用分页" class="sidebar-link">通用分页</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/0e771a/#关于dql语句的总结" class="sidebar-link">关于DQL语句的总结：</a></li><li class="sidebar-sub-header level2"><a href="/pages/0e771a/#表的创建及数据类型" class="sidebar-link">表的创建及数据类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#创建表" class="sidebar-link">创建表</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#数据类型" class="sidebar-link">数据类型</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#创建一个学生表" class="sidebar-link">创建一个学生表</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#快速创建表-了解" class="sidebar-link">快速创建表（了解）</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#删除表" class="sidebar-link">删除表</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#对表结构的增删改" class="sidebar-link">对表结构的增删改</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#插入数据-insert关键字。-dml" class="sidebar-link">插入数据，insert关键字。（DML）</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#插入值" class="sidebar-link">插入值</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#insert一次插入多条记录" class="sidebar-link">insert一次插入多条记录</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#将查询结果插入到一张表当中-了解" class="sidebar-link">将查询结果插入到一张表当中（了解）</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#insert插入日期" class="sidebar-link">insert插入日期</a></li><li class="sidebar-sub-header level4"><a href="/pages/0e771a/#str-to-date函数" class="sidebar-link">strtodate函数:</a></li><li class="sidebar-sub-header level4"><a href="/pages/0e771a/#date-format函数。" class="sidebar-link">date_format函数。</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/0e771a/#date和datetime类型的区别" class="sidebar-link">date和datetime类型的区别：</a></li><li class="sidebar-sub-header level2"><a href="/pages/0e771a/#dml语句" class="sidebar-link">DML语句</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#修改update" class="sidebar-link">修改update</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#删除delete语句" class="sidebar-link">删除delete语句</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#快速删除表中的数据" class="sidebar-link">快速删除表中的数据</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/0e771a/#约束" class="sidebar-link">约束</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#约束概述" class="sidebar-link">约束概述</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#约束包括那些" class="sidebar-link">约束包括那些</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#非空约束" class="sidebar-link">非空约束</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#sql脚本文件" class="sidebar-link">SQL脚本文件</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#唯一性约束-unique" class="sidebar-link">唯一性约束，unique</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#两个字段联合唯一" class="sidebar-link">两个字段联合唯一</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#unique和not-null可以联合吗" class="sidebar-link">unique和not null可以联合吗</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#主键约束-primary-key-简称pk" class="sidebar-link">主键约束（primary key 简称PK ***）：</a></li><li class="sidebar-sub-header level4"><a href="/pages/0e771a/#主键约束的相关术语" class="sidebar-link">主键约束的相关术语</a></li><li class="sidebar-sub-header level4"><a href="/pages/0e771a/#主键是什么-主键的作用" class="sidebar-link">主键是什么，主键的作用</a></li><li class="sidebar-sub-header level4"><a href="/pages/0e771a/#给一张表添加主键" class="sidebar-link">给一张表添加主键：</a></li><li class="sidebar-sub-header level4"><a href="/pages/0e771a/#主键数量" class="sidebar-link">主键数量</a></li><li class="sidebar-sub-header level4"><a href="/pages/0e771a/#主键值建议使用类型" class="sidebar-link">主键值建议使用类型</a></li><li class="sidebar-sub-header level4"><a href="/pages/0e771a/#主键分类" class="sidebar-link">主键分类</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#外键约束-foreign-key-简称-fk" class="sidebar-link">外键约束（foreign key 简称 FK ***）</a></li><li class="sidebar-sub-header level4"><a href="/pages/0e771a/#外键约束的相关术语" class="sidebar-link">外键约束的相关术语</a></li><li class="sidebar-sub-header level4"><a href="/pages/0e771a/#业务背景" class="sidebar-link">业务背景</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/0e771a/#存储引擎-了解内容" class="sidebar-link">存储引擎（了解内容）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#存储引擎的作用" class="sidebar-link">存储引擎的作用</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#给表指定存储引擎的方式" class="sidebar-link">给表指定存储引擎的方式</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#mysql支持的存储引擎" class="sidebar-link">mysql支持的存储引擎</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#mysql常用的存储引擎" class="sidebar-link">mysql常用的存储引擎</a></li><li class="sidebar-sub-header level4"><a href="/pages/0e771a/#myisam存储引擎" class="sidebar-link">MyISAM存储引擎</a></li><li class="sidebar-sub-header level4"><a href="/pages/0e771a/#innodb存储引擎" class="sidebar-link">InnoDB存储引擎</a></li><li class="sidebar-sub-header level4"><a href="/pages/0e771a/#memory存储引擎" class="sidebar-link">MEMORY存储引擎</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/0e771a/#事务-理解-掌握" class="sidebar-link">事务（理解，掌握*****）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#概述-4" class="sidebar-link">概述：</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#只有dml语句才会有事务这个说法-其他语句没有" class="sidebar-link">只有DML语句才会有事务这个说法，其他语句没有！</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#只要一条语句就能完成-还有必要存在事务机制吗" class="sidebar-link">只要一条语句就能完成，还有必要存在事务机制吗？</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#事务的实现方式" class="sidebar-link">事务的实现方式</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#提交事务和回滚事务" class="sidebar-link">提交事务和回滚事务</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#事务特性" class="sidebar-link">事务特性</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#事务的4个隔离级别" class="sidebar-link">事务的4个隔离级别：</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#演示隔离级别" class="sidebar-link">演示隔离级别</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/0e771a/#索引-index" class="sidebar-link">索引（index）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#概述-5" class="sidebar-link">概述：</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#索引的实现原理" class="sidebar-link">索引的实现原理</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#什么条件下-会考虑给字段上添加索引" class="sidebar-link">什么条件下，会考虑给字段上添加索引？</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#索引的创建和删除" class="sidebar-link">索引的创建和删除</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#查看一个sql语句是否使用了索引进行检索。" class="sidebar-link">查看一个sql语句是否使用了索引进行检索。</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#索引失效" class="sidebar-link">索引失效</a></li><li class="sidebar-sub-header level4"><a href="/pages/0e771a/#失效的第一种情况" class="sidebar-link">失效的第一种情况</a></li><li class="sidebar-sub-header level4"><a href="/pages/0e771a/#失效的第二种情况" class="sidebar-link">失效的第二种情况</a></li><li class="sidebar-sub-header level4"><a href="/pages/0e771a/#失效的第三种情况" class="sidebar-link">失效的第三种情况</a></li><li class="sidebar-sub-header level4"><a href="/pages/0e771a/#失效的第四种情况" class="sidebar-link">失效的第四种情况</a></li><li class="sidebar-sub-header level4"><a href="/pages/0e771a/#失效的第五种情况" class="sidebar-link">失效的第五种情况</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#索引的分类" class="sidebar-link">索引的分类</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/0e771a/#视图-view" class="sidebar-link">视图（view）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#概述-6" class="sidebar-link">概述：</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#怎么创建视图对象-怎么删除视图对象" class="sidebar-link">怎么创建视图对象，怎么删除视图对象</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#视图的作用" class="sidebar-link">视图的作用</a></li><li class="sidebar-sub-header level4"><a href="/pages/0e771a/#视图对象在实际开发中的作用" class="sidebar-link">视图对象在实际开发中的作用</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#增删改查-又叫做crud" class="sidebar-link">增删改查：又叫做CRUD</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/0e771a/#dba-databasesadministrator-的命令-不经常使用" class="sidebar-link">DBA（DataBasesAdministrator）的命令（不经常使用）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#数据导出" class="sidebar-link">数据导出：</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#数据导入" class="sidebar-link">数据导入</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/0e771a/#数据库设计三范式" class="sidebar-link">数据库设计三范式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#概述-7" class="sidebar-link">概述：</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#数据库设计范式共有" class="sidebar-link">数据库设计范式共有？</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#第一范式" class="sidebar-link">第一范式</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#第二范式" class="sidebar-link">第二范式</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#第三范式" class="sidebar-link">第三范式</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/0e771a/#总结表的设计" class="sidebar-link">总结表的设计</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#一对多" class="sidebar-link">一对多</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#多对多" class="sidebar-link">多对多</a></li><li class="sidebar-sub-header level3"><a href="/pages/0e771a/#一对一" class="sidebar-link">一对一</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/0e771a/#设计总结" class="sidebar-link">设计总结</a></li></ul></li><li><a href="/pages/5be280/" class="sidebar-link">MySQL安装</a></li><li><a href="/pages/1e0a1e/" class="sidebar-link">mysql8无法给用户授权或提示You are not allowed to create a user with GRANT</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>nexus</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>jenkins</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>elasticsearch</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>学习笔记</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/pages/d8680d/" class="sidebar-link">apache2.2升级2.4</a></li><li><a href="/pages/97d233/" class="sidebar-link">heredoc（cat EOF）</a></li><li><a href="/pages/a1f982/" class="sidebar-link">Rocky linux 9 初始化</a></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/ops/#运维" data-v-06225672>运维</a></li><li data-v-06225672><a href="/ops/#mysql" data-v-06225672>mysql</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="javascript:;" data-v-06225672>小刘</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-04-08</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">MySQL初学者速查手册<!----></h1>  <div class="theme-vdoing-content content__default"><p>转自 52pojie 论坛 @<a href="https://www.52pojie.cn/home.php?mod=space&amp;uid=1744270" target="_blank" rel="noopener noreferrer">yuluo829<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 感谢大佬的无私奉献。</p> <h1 id="数据库"><a href="#数据库" class="header-anchor">#</a> 数据库</h1> <hr> <h2 id="数据库的简单介绍"><a href="#数据库的简单介绍" class="header-anchor">#</a> 数据库的简单介绍：</h2> <h3 id="数据库概述"><a href="#数据库概述" class="header-anchor">#</a> 数据库概述：</h3> <blockquote><p>数据库：</p> <p>​	英文单词DataBase，简称DB。按照一定格式存储数据的一些文件的组合或者集合</p> <p>数据可管理系统：</p> <p>​	DataBaseManagment, 简称DBMS。专门用来管理数据库的，对数据库中的数据进行增删改查。</p> <p>​	常见的数据库系统：MySQL，Oracle，MS SqlServer，DB2，sybase……</p></blockquote> <blockquote><p>SQL：结构化查询语言</p> <p>​	程序员通过编写SQL语句，然后DSMS负责执行SQL语句，完成数据库的增删改查操作。</p></blockquote> <blockquote><p>三者之间的关系：</p> <p>DBMS --&gt; 执行 --&gt; SQL --&gt; 操作 --&gt;DB</p></blockquote> <h3 id="常用的数据库命令"><a href="#常用的数据库命令" class="header-anchor">#</a> 常用的数据库命令</h3> <p>退出MySQl</p> <blockquote><p><code>exit</code></p></blockquote> <p>显示所有的数据库</p> <blockquote><p><code>show DataBases;</code></p> <p>MySQL默认自带了四个数据库</p></blockquote> <p>选择使用数据库</p> <blockquote><p>use + &quot;库名&quot;;</p> <p><code>use text;</code></p></blockquote> <p>创建数据库</p> <blockquote><p>create databases + &quot;数据库名&quot;；</p></blockquote> <p>查看数据库中那些表</p> <blockquote><p>show tables;</p></blockquote> <p>查看数据库的版本号</p> <blockquote><p>select version();</p></blockquote> <p>查看当前使用的数据库</p> <blockquote><p>select database();</p></blockquote> <p>终止命令的输入</p> <blockquote><p>/C 或者 ; 结束</p></blockquote> <p>查看表中的记录和字段</p> <blockquote><p>desc + 表名</p></blockquote> <p><strong>注意：MySQL不见分号不执行，当输入分号时才执行语句。</strong></p> <h3 id="表-table-的理解"><a href="#表-table-的理解" class="header-anchor">#</a> 表(table)的理解</h3> <p>数据库中的最基本单元：表。</p> <p>数据库当中是以表格的形式来表示数据。因为表比较直观。</p> <p>任何一张表都有行和列</p> <p>​	行（row）：被称为数据/ 记录</p> <p>​	列（column）：被称为字段</p> <h3 id="sql语句的分类"><a href="#sql语句的分类" class="header-anchor">#</a> SQL语句的分类</h3> <blockquote><p>DQL:数据查询语言（凡是带有select关键字的语言）</p> <p>​	select ……</p> <p>DML:数据操作语言（凡是对<strong>表当中的数据进行增删改查的都是DML</strong>）</p> <p>​	insert 	增</p> <p>​	delete 	删</p> <p>​	update	改</p> <p>DDL:数据定义语言（凡是带有create，drop，alter的都是DDL）</p> <p>​	<strong>DDL主要操作的是表的结构。不是表中的数据</strong>。</p> <p>​	create 	新建</p> <p>​	drop		删除</p> <p>​	alter 		修改</p> <p>TCL:事务控制语言</p> <p>​	事务提交：commit</p> <p>​	事务回滚：rollback</p> <p>DCL:是数据控制语言</p> <p>​	例如：授权：		grant。</p> <p>​				撤销权限：revoke。</p></blockquote> <h3 id="导入数据"><a href="#导入数据" class="header-anchor">#</a> 导入数据</h3> <blockquote><p>source + &quot;路径&quot;</p> <p>路径中不能有中文</p></blockquote> <h3 id="查看表结构"><a href="#查看表结构" class="header-anchor">#</a> 查看表结构</h3> <blockquote><p>查看表中的数据</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> 表名<span class="token punctuation">;</span>  <span class="token comment">//统一执行这个SQL语句。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>eg：select * from sys;</p></blockquote> <blockquote><p>查看表的基本结构</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">describe</span>缩写为<span class="token keyword">desc</span>。
<span class="token keyword">desc</span> 表名<span class="token punctuation">;</span>
eg：<span class="token keyword">desc</span> sys<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></blockquote> <blockquote><p>查看表的详细结构</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">show</span> <span class="token keyword">create</span> <span class="token keyword">table</span> 表名<span class="token punctuation">;</span>
eg：<span class="token keyword">show</span> <span class="token keyword">create</span> <span class="token keyword">table</span> emp_1<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></blockquote> <h2 id="简单查询语句"><a href="#简单查询语句" class="header-anchor">#</a> 简单查询语句</h2> <h3 id="查询一个字段"><a href="#查询一个字段" class="header-anchor">#</a> 查询一个字段</h3> <p>select 字段名 from 表名;</p> <p>​	其中：select和from都是关键字</p> <p>​				字段名和表名是标识符。</p> <h3 id="查询多个字段"><a href="#查询多个字段" class="header-anchor">#</a> 查询多个字段</h3> <p>使用逗号隔开</p> <p>select 字段名,字段名,字段名 from 表名;</p> <h3 id="查询所有字段"><a href="#查询所有字段" class="header-anchor">#</a> 查询所有字段</h3> <ol><li><p>写上每个字段</p> <p>select a,b,c,d... from 表名;</p></li> <li><p>可以使用*;</p> <p>select * from 表名;</p> <p>缺点：*会先转换称为所有的字段名。</p> <p>​			效率低；</p> <p>​			可读性差，</p> <p>​			不建议在实际开发中使用。</p></li></ol> <h3 id="给查询的列起别名"><a href="#给查询的列起别名" class="header-anchor">#</a> 给查询的列起别名</h3> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> 字段名<span class="token punctuation">,</span>字段名 <span class="token keyword">as</span> 别名 <span class="token keyword">from</span> 表名<span class="token punctuation">;</span>
<span class="token keyword">as</span>关键字可以省略
<span class="token keyword">select</span> 字段名<span class="token punctuation">,</span>字段名 别名 <span class="token keyword">from</span> 表名<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>注意：只是将显示的结果列名显示为别名，并不会改变表中的列名。</p> <p>​			select语句只负责查询，永远不会进行修改操作。</p> <p>起别名时，别名里面有空格的时候</p> <p>select 字段名,字段名 as 别名(dept name) from 表名;</p> <p>别名中有括号时，使用单引号或者*<u><strong>双引号括住</strong></u>*。</p> <p><strong>注意：在所有的数据库中，字符串统一的用法是用单引号括起来，单引号是标准的用法，双引号在Oracle中用不了。但是在MySQL中可以使用。</strong></p> <h3 id="列参与数学运算"><a href="#列参与数学运算" class="header-anchor">#</a> 列参与数学运算</h3> <p>字段可以使用数学表达式参与运算</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> ename<span class="token punctuation">,</span> sal<span class="token operator">*</span><span class="token number">12</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token keyword">select</span> 字段名 字段名<span class="token operator">+</span>数学运算 <span class="token keyword">from</span> 表名
起别名
<span class="token keyword">select</span> ename<span class="token punctuation">,</span> sal<span class="token operator">*</span><span class="token number">12</span> <span class="token keyword">as</span> yearsal <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
别名是中文时用单引号括起来。
<span class="token keyword">select</span> ename<span class="token punctuation">,</span> sal<span class="token operator">*</span><span class="token number">12</span> <span class="token keyword">as</span> <span class="token string">'年薪'</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="条件查询"><a href="#条件查询" class="header-anchor">#</a> 条件查询</h3> <p>不查询表中的所有数据，只查询出来符合条件的数据。</p> <p>语法格式：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span>
	字段<span class="token number">1</span>，字段<span class="token number">2</span>，字段<span class="token number">3</span>……
<span class="token keyword">from</span>
	表名
<span class="token keyword">where</span>
	条件<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>条件：</p> <p>​	= 等于</p> <p>​	<code>查询薪资等于800的员工姓名和编号：</code></p> <p>​	<code>select empno,ename from emp where sal = 800'</code></p> <p>​	&lt;&gt; 或 != 不等于</p> <p>​	<code>select empno,ename from emp where sal != 800;</code></p> <p>​	<code>select empno,ename from emp where sal &lt;&gt; 800;</code></p> <p>​	&lt; 小于</p> <p>​	&lt;=  小于等于</p> <p>​	&gt; 大于</p> <p>​	 &gt;= 大于等于</p> <p>​	between ... and ... 两个值之间，等同于&gt;= and &lt;=</p> <p>​	1,</p> <p>​	<code>查询薪资在2450到3000之间的员工信息？包括2450和3000</code></p> <p>​	<code>select empno, ename,sal from emp where sal &gt;= 2450 and sal &lt;= 3000;</code></p> <p>​	2,</p> <p>​	<code>select empno,ename,sal from emp where sal between 2450 and 3000;</code></p> <p>​	<strong>注意：使用between……and……的时候，必须左小右大，左大	有小查不出来值。</strong></p> <p>​	 is null 为 null  (is not null不为空)</p> <p>​	<code>查询那些员工的薪资或者津贴为null</code></p> <p>​	<code>select empno,ename,sal from emp where comm is null;</code></p> <p>​	<strong>注意：在数据库中null不能使用等号进行衡量。需要使用is null。因为数据库中的null代表什么也没有，不是一个值，所以不饿能使用等号衡量。</strong></p> <p>​	<code>查询那些员工的薪资或者津贴不为null</code></p> <p><code>select</code></p> <p>​	<code>empno,ename,sal</code></p> <p><code>from</code></p> <p>​	<code>emp</code></p> <p><code>where</code></p> <p>​	<code>comm is not null;</code></p> <p>​	and 并且</p> <p>​	<code>查询工作岗位是MANAGE并且工资大于2500的员工信息</code></p> <p><code>select</code></p> <p>​	<code>empuo,ename,job,sal</code></p> <p><code>from</code></p> <p>​	<code>emp</code></p> <p><code>where</code></p> <p>​	<code>job = 'MANAGER' and sal &gt; 2500;</code></p> <p>​	or 或者</p> <p><code>select</code></p> <p>​	<code>empno,ename,job</code></p> <p><code>from</code></p> <p>​	<code>emp</code></p> <p><code>where</code></p> <p>​	 <code>job = 'MANAGER'or'SALESMAN';</code></p> <p>​	<strong>and和or同时出现的时候有没有先后顺序的问题：and的优先级比or高,想要or先执行加小括号</strong></p> <p>​	<code>找出工资大于2500并且部门编号为10或者20的所有员工：</code></p> <p><code>select</code></p> <p>​	<code>*</code></p> <p><code>from</code></p> <p>​	<code>emp</code></p> <p><code>where</code></p> <p>​	<code>sal &gt; 2500 and (deptno = 10 or deptno = 20);</code></p> <p>​	in 包含，相当于多个 or （not in不在这个范围中）</p> <p>​	<code>查询工作岗位是‘MANAGER’和‘SALESMAN’</code></p> <p>​	<code>select</code></p> <p>​		<code>empno,ename,sal</code></p> <p>​	<code>from</code></p> <p>​		<code>emp</code></p> <p>​	<code>where</code></p> <p>​		<code>job = 'MANAGER' or job = 'SALESMAN'</code>;</p> <p>​	<code>select</code></p> <p>​		<code>empno,ename,sal</code></p> <p>​	<code>from</code></p> <p>​		<code>emp</code></p> <p>​	<code>where</code></p> <p>​		<code>job in ('MANAGER','SALESMAN'); //这个不是表示800-5000，表示的是是800和5000的。</code></p> <p>​	not 可以取反，主要用在is 或 in 中</p> <p>​		is null;</p> <p>​		is not null;</p> <p>​		in;</p> <p>​		not in;</p> <p>​	like</p> <p>​		称为模糊查询，支持%和下划线匹配</p> <p>​		% 匹配任意多个字符</p> <p>​		下划线：任意一个字符</p> <p>​		%和__是两个特殊符号。</p> <p>​	<code>找出名字中含有o的：</code></p> <p>​		<code>select ename from emp where ename like '%o%;'</code></p> <p>​	<code>找出名字中以t结尾的：</code></p> <p>​		<code>select ename from emp where ename like '%t;'</code></p> <p>​	<code>找出名字中第一个是k的：</code></p> <p>​		<code>select ename from emp where ename like 'k%;'</code></p> <p>​	<code>找出名字中第二个字母是A的：</code></p> <p>​		<code>select ename from emp where ename like '_A%;'</code></p> <p>​	<code>找出名字中第三个字母是R的：</code></p> <p>​		<code>select ename from emp where ename like '__R%;'</code></p> <p>​	<code>找出名字中有'_'的：//: \是转义字符。</code></p> <p>​		<code>select ename from emp where ename like '%\_%;'</code></p></blockquote> <h2 id="排序"><a href="#排序" class="header-anchor">#</a> 排序</h2> <h3 id="查询所有员工薪资-排序"><a href="#查询所有员工薪资-排序" class="header-anchor">#</a> 查询所有员工薪资，排序</h3> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span>
	ename<span class="token punctuation">,</span>sal
<span class="token keyword">from</span>
	emp
<span class="token keyword">order</span> <span class="token keyword">by</span>
	sal<span class="token punctuation">;</span>
<span class="token comment">//默认是升序排列。</span>
<span class="token comment">//指定降序</span>
<span class="token keyword">select</span>
	ename<span class="token punctuation">,</span>sal
<span class="token keyword">from</span>
	emp
<span class="token keyword">order</span> <span class="token keyword">by</span>
	sal <span class="token keyword">desc</span><span class="token punctuation">;</span>
<span class="token comment">//指定升序</span>
<span class="token keyword">select</span>
	ename<span class="token punctuation">,</span>sal
<span class="token keyword">from</span>
	emp
<span class="token keyword">order</span> <span class="token keyword">by</span>
	sal <span class="token keyword">asc</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="两个字段排序-多个字段排序"><a href="#两个字段排序-多个字段排序" class="header-anchor">#</a> 两个字段排序，多个字段排序</h3> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">//查询员工名字和薪资，要求按照薪资升序，如果薪资一样的话，再按照名字升序排列。</span>
<span class="token keyword">select</span>
	ename<span class="token punctuation">,</span>sal
<span class="token keyword">from</span>
	emp
<span class="token keyword">order</span> <span class="token keyword">by</span>
	sal <span class="token keyword">asc</span><span class="token punctuation">,</span> ename <span class="token keyword">asc</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="根据字段的位置排列"><a href="#根据字段的位置排列" class="header-anchor">#</a> 根据字段的位置排列</h3> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal <span class="token keyword">from</span> emp <span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token comment">//2表示第二列。是sal。不建在开发中这样写，因为程序不健壮。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="综合案例"><a href="#综合案例" class="header-anchor">#</a> 综合案例</h3> <p>找出工资在1250-3000之间的员工信息，要求按照薪资降序排列</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span>
	ename<span class="token punctuation">,</span>sal
<span class="token keyword">from</span>
	emp<span class="token punctuation">;</span>
<span class="token keyword">where</span>
	sal <span class="token operator">between</span> <span class="token number">1250</span> <span class="token operator">and</span> <span class="token number">3000</span>
<span class="token keyword">order</span> <span class="token keyword">by</span>
	sal <span class="token keyword">desc</span><span class="token punctuation">;</span>
<span class="token comment">//关键字顺序不能改变</span>
<span class="token keyword">select</span>
	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">from</span>
	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">where</span>
	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">order</span> <span class="token keyword">by</span>
	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
程序的执行步骤：
	第一步：执行<span class="token keyword">from</span>从<span class="token keyword">table</span>中查询
	第二步：执行<span class="token keyword">where</span>筛选过滤
	第三步：执行<span class="token keyword">select</span>输出数据
	第四步：执行<span class="token keyword">order</span> <span class="token keyword">by</span>，排序总是在最后执行！
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="数据处理函数-单行处理函数"><a href="#数据处理函数-单行处理函数" class="header-anchor">#</a> 数据处理函数（单行处理函数）</h2> <h3 id="数据处理函数又被称为单行处理函数"><a href="#数据处理函数又被称为单行处理函数" class="header-anchor">#</a> 数据处理函数又被称为单行处理函数</h3> <p>单行处理函数的特点是：一个输入一个输出。</p> <p>和单行处理函数对应的是：多行处理函数（多个输入，一个输出）。</p> <h3 id="常见的单行处理函数"><a href="#常见的单行处理函数" class="header-anchor">#</a> 常见的单行处理函数：</h3> <blockquote><p>sum					求和</p> <p>Lower				转换小写</p> <p>​	<code>将姓名转换成小写字母显示</code></p> <p>​	<code>select lower(ename) as ename from emp;</code></p> <p>upper				转换大写</p> <p>substr				取子串（substr（被截取的字符串，起始下标，截取的长度））</p> <p>​	<code>select substr(ename, 1, 1) as ename from emp;</code></p> <p>​	<strong>注意：起始下标从1开始，没有0。</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">//找出员工名字第一个字母是A的员工信息？</span>

<span class="token comment">//第一种方式：模糊查询	</span>
<span class="token keyword">select</span> ename <span class="token keyword">from</span> emp <span class="token keyword">where</span> ename <span class="token operator">like</span> <span class="token string">'A%'</span><span class="token punctuation">;</span>

<span class="token comment">//第二种方式：substr函数	</span>
<span class="token keyword">select</span> ename，<span class="token keyword">from</span> emp，<span class="token keyword">where</span> substr<span class="token punctuation">(</span>ename<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">'A'</span><span class="token punctuation">;</span>

<span class="token comment">//首字母大写	</span>
<span class="token keyword">select</span> concat<span class="token punctuation">(</span>upper<span class="token punctuation">(</span>substr<span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> substr<span class="token punctuation">(</span>name<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span>length<span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">as</span> result	<span class="token keyword">from</span> emp<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>length				取长度</p> <p>​	<code>select length(ename) enamelength from emp;</code></p> <p>trim					去空格</p> <p>​	<code>//去除查询条件的空格。</code></p> <p>​	<code>select * from emp where ename = trim(' KING');</code></p> <p>str_to_date		将字符串转换成日期</p> <p>date_format		格式化日期</p> <p>format				设置千分位</p> <p>case...when...then...when...then..else...end</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">//当工作岗位是MANAGER的时候，工资上调10%，当工作岗位是SALESMAN的时候，工资上调50%</span>
<span class="token comment">//注意：不修改数据库，只是将查询结果显示为工资上调。</span>
<span class="token keyword">select</span> ename<span class="token punctuation">,</span> job<span class="token punctuation">,</span> sal <span class="token keyword">as</span> oldsal<span class="token punctuation">,</span> 

<span class="token punctuation">(</span><span class="token keyword">case</span> job 
	<span class="token keyword">when</span> <span class="token string">'MANAGER'</span> 
<span class="token keyword">then</span> sal <span class="token operator">*</span> <span class="token number">1.1</span> 
	<span class="token keyword">when</span> <span class="token string">'SALSMAN'</span> 
<span class="token keyword">then</span> sal <span class="token operator">*</span> <span class="token number">1.5</span> 
	<span class="token keyword">else</span> sal 
<span class="token keyword">end</span><span class="token punctuation">)</span> 
<span class="token keyword">as</span> newsal <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>round				四舍五入</p> <p>​	<code>select 字段名 from 表名;</code></p> <p>​	<code>select 'abc'/1000 from emp;</code></p> <p>​	<strong>注意：select后面可以跟某个表的字段名（可以等同于变量名），	也可以跟'字面值/字面量'（数据），</strong></p> <p>​	<code>select 21000 as num from dept;</code></p> <p>​	<code>select round(1234.6756, 0) as result from emp;</code></p> <p>​	<code>//四舍五入的结果是1234。0是不保留小数，1，保留一位小数.1234.5。-1保留到十位.1230.-2，保留到百位1200</code></p> <p>rand()				生成随机数</p> <p>ifnull					可以将null转换成一个具体值(如果是空的话，当作一个值来处理。)</p> <p><strong>在所有的数据库当中，只要有null参与的数学运算的结果就是NULL。</strong></p> <p>​	<code>计算所有员工的年薪：</code></p> <p>​	<code>select ename, sal + comm as salcomm from emp;</code></p> <p>​	为了避免出现NULL值。使用ifnull函数（如果是null，当作0来处理。）</p> <p>​	<code>select ename, (sal + ifnull(comm, 0)) * 12 as yearsal from emp;</code></p></blockquote> <h2 id="分组函数-多行处理函数"><a href="#分组函数-多行处理函数" class="header-anchor">#</a> 分组函数（多行处理函数）</h2> <p>多行处理函数的特点：输入多行，最终输出一行</p> <p>5个：</p> <ol><li>count		计数</li> <li>sum     求和</li> <li>avg    平均值</li> <li>max   最大值</li> <li>min    最小值</li></ol> <p><strong>注意：分组函数在使用的时候必须先进行分组，然后才能使用。如果你没有对数据进行分组，整张表默认为一组。</strong></p> <blockquote><div class="language-sql line-numbers-mode"><pre class="language-sql"><code>找出最高工资
<span class="token keyword">select</span> <span class="token function">max</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
找出最低工资
<span class="token keyword">select</span> <span class="token function">min</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
计算工资和
<span class="token keyword">select</span> <span class="token function">sum</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
计算平均工资
<span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
计算员工数量总和
<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span>ename<span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>分组函数在使用时的注意事项：</strong></p> <p>1，分组函数在使用的时候会自动忽略null；null不是一个值，是什么也没有。不用加null过滤。</p> <p>2，分组函数中count(*)和count(具体字段)的区别：</p> <p>​	count(*)：统计表当中的总行数。（只要有一行数据，count ++）</p> <p>​						因为每一行记录中数据不可能都为null。一行数据中有一列不为null，则这行数据就是有效的。</p> <p>​	count(具体字段)：表示统计该字段下所有不为null的元素的总数。</p> <p>3，分组程序不能够直接使用在where子句中</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">//找出比最低工资高的员工的信息。</span>
<span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal <span class="token operator">&gt;</span> <span class="token function">min</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//表面没有问题，但运行时出现错误。</span>
<span class="token comment">//Invaild use of group function因为分组函数在使用的时候必须先分组，where执行的时候还没有分组。所以where后面不能出现分组函数</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>4，所有的分组函数可以组合在一起使用。</p> <p><code>select sum(sal),min(sal),max(sal),count(*),avg(sal) from emp;</code></p></blockquote> <h2 id="分组查询"><a href="#分组查询" class="header-anchor">#</a> 分组查询（***********）</h2> <p>概述：在实际应用中，可能有这样的需求，需要先进行分组，然后对每一组的数据进行操作。这个时候需要分组查。</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span>	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">from</span>	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">group</span> <span class="token keyword">by</span>	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token comment">//计算每个部门的工资和//计算每个工作岗位的平均薪资</span>
<span class="token comment">//找出每个工作岗位的最高薪资……组合之前的关键字，分析它们的执行顺序</span>
<span class="token keyword">select</span>	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">from</span>	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">group</span> <span class="token keyword">by</span>	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">order</span> <span class="token keyword">by</span>	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
以上关键字的顺序不能颠倒。执行顺序：	
	<span class="token number">1</span>，<span class="token keyword">from</span>	
	<span class="token number">2</span>，<span class="token keyword">where</span>	
	<span class="token number">3</span>，<span class="token keyword">group</span> <span class="token keyword">by</span>	
	<span class="token number">4</span>，<span class="token keyword">select</span>	
	<span class="token number">5</span>，<span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token keyword">select</span> <span class="token function">sum</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
这个没有分组，为什么可以执行
因为<span class="token keyword">select</span>在<span class="token keyword">group</span> <span class="token keyword">by</span>后面执行。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="找出每个工作岗位的工资和"><a href="#找出每个工作岗位的工资和" class="header-anchor">#</a> 找出每个工作岗位的工资和</h3> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>实现思路:按照工作岗位进行分组，对分组逐个求和。<span class="token keyword">select</span>	job<span class="token punctuation">,</span><span class="token function">sum</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span><span class="token keyword">from</span>	empgroup <span class="token keyword">by</span>	job<span class="token punctuation">;</span>以上语句的执行顺序	先从emp表中进行查询	根据job字段进行分组	然后对每一组的数据进行<span class="token function">sum</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token keyword">select</span>	ename<span class="token punctuation">.</span>job<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">from</span>	empgroup <span class="token keyword">by</span>	job<span class="token punctuation">;</span>以上代码在oracle执行报错，在mysql中可以执行，但是毫无意义。Oracle的语法比MySQL严格
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>结论：在一条select语句后面，如果有group by语句的话；select后面只能跟：参加分组的字段，以及分组函数。其他的一律不能跟。</strong></p> <h3 id="找出每个部门的最高薪资"><a href="#找出每个部门的最高薪资" class="header-anchor">#</a> 找出每个部门的最高薪资</h3> <div class="language-SQL line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> 	ename<span class="token punctuation">,</span>deptno<span class="token punctuation">,</span><span class="token function">max</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span><span class="token keyword">from</span> emp <span class="token keyword">group</span> <span class="token keyword">by</span> deptno<span class="token punctuation">;</span>	<span class="token keyword">select</span>字段后面加ename没有意义，另外Oracle会报错。正确写法：<span class="token keyword">select</span> deptno<span class="token punctuation">,</span><span class="token function">max</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span><span class="token keyword">from</span> emp <span class="token keyword">group</span> <span class="token keyword">by</span> deptno<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="找出每个部门-不同工作岗位的最高薪资"><a href="#找出每个部门-不同工作岗位的最高薪资" class="header-anchor">#</a> 找出<u>每个部门，不同工作岗位</u>的最高薪资</h3> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token operator">/</span>两个字段联合成一个字段看<span class="token keyword">select</span>	deptno<span class="token punctuation">,</span>job<span class="token punctuation">,</span><span class="token function">max</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span><span class="token keyword">from</span>	emp <span class="token keyword">group</span> <span class="token keyword">by</span> job<span class="token punctuation">,</span> deptno<span class="token punctuation">;</span>	
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="找出每个部门的最高薪资-要求显示最高薪资大于3000的。使用having可以对分完组之后的数据进一步过滤。"><a href="#找出每个部门的最高薪资-要求显示最高薪资大于3000的。使用having可以对分完组之后的数据进一步过滤。" class="header-anchor">#</a> 找出每个部门的最高薪资,要求显示最高薪资大于3000的。使用having可以对分完组之后的数据进一步过滤。</h3> <blockquote><p><em><strong>having不能单独使用，不能代替wheremhaving，必须和group by联合使用。</strong></em></p></blockquote> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>第一步：<span class="token keyword">select</span> deptno<span class="token punctuation">,</span><span class="token function">max</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">from</span> emp <span class="token keyword">group</span> <span class="token keyword">by</span> deptno<span class="token punctuation">;</span>第二步：<span class="token keyword">select</span> 	deptno<span class="token punctuation">,</span><span class="token function">max</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">from</span> emp <span class="token keyword">group</span> <span class="token keyword">by</span> deptno <span class="token keyword">having</span>	<span class="token function">max</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">3000</span><span class="token punctuation">;</span>以上的代码执行效率很低。可以这样考虑：先将大于<span class="token number">3000</span>的找出来，再分组<span class="token keyword">select</span> deptno<span class="token punctuation">,</span><span class="token function">max</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span><span class="token keyword">from</span> emp <span class="token keyword">where</span> sal <span class="token operator">&gt;</span> <span class="token number">3000</span> <span class="token keyword">group</span> <span class="token keyword">by</span>	deptno<span class="token punctuation">;</span>优化策略：<span class="token keyword">where</span>和<span class="token keyword">having</span>，优先选择<span class="token keyword">where</span>，<span class="token keyword">where</span>实在完成不了，再选择 <span class="token keyword">having</span>。 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="where没办法解决的"><a href="#where没办法解决的" class="header-anchor">#</a> where没办法解决的？</h3> <p><em><strong>找出每个部门的平均薪资，要求显示薪资高于2500的</strong></em></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">//第一步：找出每个部门的平均薪资。select deptno,avg(sal)from	emp group by	deptno;//第二步：要求显示薪资高于2500的select	deptno,avg(sal)from	empwhere		//where后面不能使用分组函数。	avg(sal) &gt; 2500group by	deptno;	改为：优化策略。select	deptno,avg(sal)from	empgroup by	deptnohaving	avg(sal) &gt; 2500;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="总结-单表查询结束"><a href="#总结-单表查询结束" class="header-anchor">#</a> 总结（单表查询结束)</h3> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span>	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">from</span>	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">where</span>	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">group</span> <span class="token keyword">by</span>	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">having</span>	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">order</span> <span class="token keyword">by</span>	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>执行顺序：不能颠倒	<span class="token number">1</span>，<span class="token keyword">from</span> 查询	<span class="token number">2</span>，<span class="token keyword">where</span> 过滤	<span class="token number">3</span>，<span class="token keyword">group</span> <span class="token keyword">by</span> 分组	<span class="token number">4</span>，<span class="token keyword">having</span> 接着过滤	<span class="token number">5</span>，<span class="token keyword">select</span> 查询	<span class="token number">6</span>，<span class="token keyword">order</span> <span class="token keyword">by</span> 排序输出	从某张表中查询数据先经过<span class="token keyword">where</span>条件筛选出有价值的数据对这些有价值的数据进行分组分组之后可以使用<span class="token keyword">having</span>继续筛选经过<span class="token keyword">select</span>查询出来最后排序输出。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>综合案例：</p> <p>找出每个岗位的平均薪资，要求显示平均薪资大于1500的，出MANAGER之外，要求按照平均薪资降序排列。</p></blockquote> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span>	job<span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">as</span> avgsalfrom	empwhere	job <span class="token operator">&lt;&gt;</span> <span class="token string">'MANAGER'</span><span class="token keyword">group</span> <span class="token keyword">by</span>	jbohaving	<span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">1500</span>order <span class="token keyword">by</span>	avgsal <span class="token keyword">desc</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="去除重复记录"><a href="#去除重复记录" class="header-anchor">#</a> 去除重复记录</h2> <p>把查询结果去除重复记录</p> <p><strong>注意：原表数据不会被修改，只是显示结果去重。去重需要一个关键字 distinct。</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token keyword">distinct</span> job <span class="token keyword">from</span> emp<span class="token punctuation">;</span><span class="token comment">//select ename,distinct job from emp;//这样编写是错误的，distinct只出现在所有字段的前方。select distinct job,deptno from emp;//出现在job个deptno两个字段之前，联合两个字段去重。//统计工作岗位的数量select count(distinct job) from emp;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="连接查询"><a href="#连接查询" class="header-anchor">#</a> 连接查询</h2> <h3 id="概述"><a href="#概述" class="header-anchor">#</a> 概述：</h3> <blockquote><p>从emp表中取员工名字，从dept表中取部门名字。这种跨表查询，多张表联合起来查询数据，称为连接查询</p> <p>从一张表中单独查询，称为单表查询。</p></blockquote> <h3 id="连接查询的分类"><a href="#连接查询的分类" class="header-anchor">#</a> 连接查询的分类</h3> <blockquote><p>根据语法的种类进行分类</p> <p>​	SQL92：1992年出现的语法。</p> <p>​	SQL99：1999年出现的语法。</p> <p>根据表的连接方式分类</p> <p>​	内连接：</p> <p>​		等值连接</p> <p>​		非等值连接</p> <p>​		自连接</p> <p>​	外连接：</p> <p>​		左外连接 （左连接）</p> <p>​		右外连接 （右连接）</p> <p>​	全连接（不常用）</p></blockquote> <h3 id="笛卡尔积现象"><a href="#笛卡尔积现象" class="header-anchor">#</a> 笛卡尔积现象</h3> <p>当两张表进行连接查询时，没有任何的条件限制，会发生什么现象。</p> <blockquote><p><strong>连接查询的原理：拿出一张表的记录和另一张表的所有记录进行对比。</strong></p></blockquote> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">//案例：查询每个员工所在的部门名称select ename, deptno from ename,deptno;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>笛卡尔积现象：当两张表进行连接查询时，没有任何的条件限制，会发生的现象是<strong>最<em>终的查询结果的条数是两张表条数的乘积。</em></strong></p></blockquote> <h3 id="怎么避免笛卡尔积现象"><a href="#怎么避免笛卡尔积现象" class="header-anchor">#</a> 怎么避免笛卡尔积现象</h3> <blockquote><p>连接时接入条件，满足这个条件的记录被筛选出来。</p></blockquote> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span>	ename<span class="token punctuation">,</span>dname <span class="token keyword">from</span> emp<span class="token punctuation">,</span>denptnowhere	emp<span class="token punctuation">.</span>ename<span class="token punctuation">,</span>deptno<span class="token punctuation">.</span>dname<span class="token punctuation">;</span><span class="token comment">//最终查询结果条数减少，但是执行次数不会减少。//给表起别名，提高查询效率。select e.ename,d.dname;from emp e,denptno d where	e.ename = d.dname;  //SQL92语法。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><em><strong>减少表的连接次数，提高程序的执行效率</strong></em></p> <h3 id="内连接"><a href="#内连接" class="header-anchor">#</a> 内连接</h3> <p><strong>特点：将能够匹配上这个查询条件的数据查询出来</strong></p> <p><strong>两张表中没有主次关系</strong></p> <h4 id="内连接之等值连接"><a href="#内连接之等值连接" class="header-anchor">#</a> 内连接之等值连接</h4> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">//案例：查询每个员工所在部门的名称，显示员工和部门名//emp e,dept d表进行连接，条件是e.deptno = d.dpetnp;//SQL92语法select	e.ename,d.dnamefrom	emp e, deptno dwhere	e.deptno = d.deptno;	//缺点：结构不清晰，表的连接条件和后期进一步筛选的条件，都放到了where的后面。//SQL99语法select	e.ename,d.dnamefrom	emp e, (inner) join			//inner（内部的）可以省略。	dept don	e.deptno = d.deptno;	//条件是等值关系，所以为等值连接。	select 	...from	a(inner) join	bon	a和b的连接条件。where	筛选条件	//优点：表连接的条件是独立的，连接之后，如果还需要进一步筛选，再往后继续添加where条件即可。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="内连接之非等值连接"><a href="#内连接之非等值连接" class="header-anchor">#</a> 内连接之非等值连接</h4> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">//案例：查询每个员工的薪资等级，要求显示员工名，薪资，员工等级select	e.ename,e.sal,s.salgradefrom	emp ejoin			//inner（内部的）可以省略。	salgrade son 	e.sal between s.local and s.hisal  //非等值连接，条件不是一个等量关系。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="内连接之自连接"><a href="#内连接之自连接" class="header-anchor">#</a> 内连接之自连接</h4> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">//案例：查询每个员工的上级领导，要求显示员工名和对应的领导名。//技巧：一张表看作两张表select	a.ename as '员工名',b.ename as '领导名'from emp ajoin	emp bon	a.mgr = b.empno;  //自连接的技巧，一张表看作两张表。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="外连接"><a href="#外连接" class="header-anchor">#</a> 外连接</h2> <blockquote><p>任何一个右连接都有左连接的写法</p> <p>任何一个左连接都有右连接的写法</p> <p>两种写法可以互换。</p></blockquote> <h4 id="右外连接-右连接"><a href="#右外连接-右连接" class="header-anchor">#</a> 右外连接(右连接)</h4> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span>	e<span class="token punctuation">.</span>ename<span class="token punctuation">,</span>d<span class="token punctuation">.</span>dnamefrom	emp e<span class="token punctuation">,</span> <span class="token keyword">right</span> <span class="token punctuation">(</span><span class="token keyword">outer</span><span class="token punctuation">)</span> <span class="token keyword">join</span>   <span class="token comment">//outer可以省略，带着可读性强。	dept don	e.deptno = d.deptno;//right代表：表示将join关键字右边的这张表看成是主表，主要是为了将这张表的数据全部查询出来，捎带着关联查询左边的表。//在外连接中产生了主次关系</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="左外连接-左连接"><a href="#左外连接-左连接" class="header-anchor">#</a> 左外连接(左连接)</h4> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span>	e<span class="token punctuation">.</span>ename<span class="token punctuation">,</span>d<span class="token punctuation">.</span>dnamefrom	emp e<span class="token punctuation">,</span> <span class="token keyword">left</span> <span class="token punctuation">(</span><span class="token keyword">outer</span><span class="token punctuation">)</span> <span class="token keyword">join</span>    <span class="token comment">//outer可以省略，带着可读性强。	dept don	e.deptno = d.deptno;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>外连接的查询结果的结果条数一定是 &gt;= 内连接的查询结果的结果条数</p></blockquote> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">//案例：查询每个员工的上级领导，要求显示所有的员工名字和领导名字。//外连接select	a.ename as '员工名', b.ename as ‘领导名’from	emp aleft join	emp bon 	a.mgr = b.empno;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="三张表或者四张表的连接方式"><a href="#三张表或者四张表的连接方式" class="header-anchor">#</a> 三张表或者四张表的连接方式</h3> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">//语法：select	...from	ajoin	bon	a和b的连接条件join	con	a和c的连接条件right join	don	a和d的连接条件	//一条SQL语句中，内连接和外连接可以混合出现。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="子查询"><a href="#子查询" class="header-anchor">#</a> 子查询</h2> <h3 id="概述-2"><a href="#概述-2" class="header-anchor">#</a> 概述：</h3> <blockquote><p>select语句中嵌套select语句。</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">//可以出现在以下位置select	..(select).from	..(select).where	..(select).</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></blockquote> <h3 id="where子句中的子查询"><a href="#where子句中的子查询" class="header-anchor">#</a> where子句中的子查询</h3> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">//案例：找出比最低工资高的员工姓名和工资select	ename,salfrom	empwhere	sal &gt; min(sal);//此方法不能实现，因为where子句中不能出现分组函数//实现思路：	第一步;查询最低工资	select min(sal) from emp;	第二步：	找出 &gt; 800的	第三步：合并	select 		ename,sal 	from 		emp 	where 		sal &gt; (select min(sal) from emp);</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="from子句中的子查询"><a href="#from子句中的子查询" class="header-anchor">#</a> from子句中的子查询</h3> <p><strong>注意：from后面的子查询可以将子查询的结果当作一个临时表（技巧）</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">//案例：找出每个岗位的平均工资的薪资等级第一步：找出每个岗位的平均工资（按照岗位分组求平均值）select job,avg(sal) from emp group by;第二步：将第一步查询的表当作一张真实的表t，将t和salgrade进行表连接，条件：t表abg(sal) between s.losal and s.hisal;select	t.*,s.gradefrom	(select job,avg(sal) as avgsal from emp group by job) tjoin	salgrade son	t.avgsal between s.losal and s.hisal'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="select后面的子查询-了解即可-不常用"><a href="#select后面的子查询-了解即可-不常用" class="header-anchor">#</a> select后面的子查询（了解即可，不常用）</h3> <p><strong>注意：这样的子查询结果不能多于1条，不然出错。</strong></p> <h2 id="union的用法"><a href="#union的用法" class="header-anchor">#</a> union的用法</h2> <blockquote><p><em><strong>合并查询结果集</strong></em></p> <p>union的使用效率要高一些，对于表连接来说，每连接一次新表，则匹配的次数满足笛卡尔积，成倍翻。。。</p> <p>但是union的效率可以减少匹配的次数。在减少匹配次数情况下，还可以完成两个结果集的拼接。</p> <p>a连接b连接c</p> <p>a 10条记录</p> <p>b 10条记录</p> <p>c 10条记录</p> <p>匹配记录是：10 * 10 * 10 = 1000</p> <p>a 连接 b 一个结果： 10 * 10 = 100;</p> <p>a 连接 c 一个结果： 10 * 10 = 100;</p> <p>使用union是 100 + 100 = 200次。（union把乘法变成了加法运算）</p></blockquote> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">//案例：查询工作岗位是MANAGER和SALESMAN的员工	select ename,job from emp where job = 'MANAGER' or job = 'SALESMAN';		select ename,job from emp where job in('MANAGER','SALESMAN');	union的使用：select ename,job from emp where job = 'MANAGER'unionselect ename,job from emp where job = 'SALESMAN';</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>union的使用注意事项：</p> <p>union在进行结果集合并的时候，要求两个结果集的列数相同。</p> <p>要求列数的数据类型也先相同。</p></blockquote> <h2 id="limit"><a href="#limit" class="header-anchor">#</a> limit</h2> <h3 id="概述-3"><a href="#概述-3" class="header-anchor">#</a> 概述：</h3> <p>将查询结果的一部分取出，通常在分页查询中。分页的作用是为了提高用户的体验，因为一次查询出来所有的结果，用户体验差。可以翻页看。</p> <h3 id="limit的用法"><a href="#limit的用法" class="header-anchor">#</a> limit的用法：</h3> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">//案例：按照薪资降序，取出排名在前五名的员工？select 	ename,salfrom	emporder by	sal desclimit 5;	//去前五//limit的语法：完整用法：limit startIndex,length	startIndex是起始下标，length是长度。缺省用法：limit 5;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><em><strong>注意：limit是在order by之后执行的。</strong></em></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">//案例：取出工资排名在[3-5]名的员工。select	ename,salfrom	emporder by	sal desclimit	2, 3;//2表示起始位置从下标2开始，就是第三条记录。//3表示长度。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="通用分页"><a href="#通用分页" class="header-anchor">#</a> 通用分页</h3> <blockquote><p>每页显示3条记录</p> <p>第一页：limit 0，3 [0 1 2]</p> <p>第二页：limit 3，3 [3 4 5]</p> <p>第三页：limt 6，3 [6 7 9]</p> <p>第四页：limit 9，3 [9 10 11]</p> <p>每页显示pageSize条记录</p> <p>第pageNo页：limit  （pageNo - 1 * pageSize)，pageSize</p></blockquote> <h2 id="关于dql语句的总结"><a href="#关于dql语句的总结" class="header-anchor">#</a> 关于DQL语句的总结：</h2> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span>	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">from</span>	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">where</span>	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">group</span> <span class="token keyword">by</span>	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">having</span>	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">order</span> <span class="token keyword">by</span>	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">limit</span>	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="表的创建及数据类型"><a href="#表的创建及数据类型" class="header-anchor">#</a> 表的创建及数据类型</h2> <h3 id="创建表"><a href="#创建表" class="header-anchor">#</a> 创建表</h3> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>建表的语法格式：（建表属于DDL语句，DDL包括：<span class="token keyword">create</span> <span class="token keyword">drop</span> <span class="token keyword">alter</span>）
<span class="token keyword">create</span> <span class="token keyword">table</span> 表名<span class="token punctuation">(</span>字段名<span class="token number">1</span> 数据类型，字段名<span class="token number">2</span> 数据类型，字段名<span class="token number">3</span> 数据类型<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>表名：建议以t_或者tbl_开始，可读性强。见名知义</p> <p>字段名：见名知义</p> <p>表名和字段名都属于标识符</p> <h3 id="数据类型"><a href="#数据类型" class="header-anchor">#</a> 数据类型</h3> <p>掌握一些常见的数据类型即可：</p> <blockquote><p>varchar（长度255）：</p> <p>​	可变长度的字符串，比较智能，根据实际的字符串动态	分配空间。</p> <p>​	优点：节省空间</p> <p>​	缺点：需要动态分配空间，速度慢</p> <p>char（长度255）：</p> <p>​	定长字符串，不管实际的字符串长度是多少，只分配固定长度的空间取存储数据。</p> <p>​	优点：不需要动态分配空间，速度快</p> <p>​	缺点：使用不恰当会导致空间的浪费。</p> <p>​	<strong>varchar和char的选择：性别字段：char。姓名字段：varchar。因为性别字段长度是固定的。</strong></p> <p>int（长度11）：数字中的整型，等同于java的int</p> <p>bigint：数字中的长整型，相当于java中的long</p> <p>double：双精度浮点型数据</p> <p>float：单精度浮点型数据</p> <p>date：短日期类型</p> <p>datetime：长日期类型</p> <p>clob：字符大对象</p> <p>​	最多可以存储4G的文章。</p> <p>​	比如：存储一篇文章，存储一个说明。</p> <p>​	超过255个字符都用CLOB字符存储。</p> <p>​	Character Large OBject: CLOB</p> <p>blob：</p> <p>​	二进制大对象</p> <p>​	Binary Large OBject：BLOB</p> <p>​	专门用来存储图片，声音，视频等流媒体数据。</p> <p>​	往blob类型的字段上插入数据的时候，需要使用IO流。</p></blockquote> <h3 id="创建一个学生表"><a href="#创建一个学生表" class="header-anchor">#</a> 创建一个学生表</h3> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> t_student<span class="token punctuation">(</span>	
    <span class="token keyword">no</span> <span class="token keyword">int</span><span class="token punctuation">,</span>    
    sex <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    
    age <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    
    email <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="快速创建表-了解"><a href="#快速创建表-了解" class="header-anchor">#</a> 快速创建表（了解）</h3> <p><code>create table emp2 as select * from emp;</code></p> <blockquote><p>原理：可以完成表的快速复制。</p> <p>​		把一个查询结果当成一张表新建。</p> <p>​		同时表中的数据也会存在。</p></blockquote> <h3 id="删除表"><a href="#删除表" class="header-anchor">#</a> 删除表</h3> <p>如果这张表不存在会报错</p> <p>drop table t_student;</p> <p>如果这张表存在则删除。不会报错。</p> <p>drop table t_student if exists;</p> <h3 id="对表结构的增删改"><a href="#对表结构的增删改" class="header-anchor">#</a> 对表结构的增删改</h3> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>第一：在确定了表的结构之后，一般不会轻易的再次改动表，因为修改表的结构的代价比较大。修改表结构的时候，相对应的java代码也需要修改，成本是比较高的。
第二：因为成本原因，这部分的责任由设计人员承担。不需要掌握。可以使用navicat工具修改。

增加列
 <span class="token keyword">alter</span> <span class="token keyword">table</span> test <span class="token keyword">add</span> context_time <span class="token keyword">datetime</span>
 <span class="token comment">//向text表中加入context_time的列名，类型为datetime</span>
 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="插入数据-insert关键字。-dml"><a href="#插入数据-insert关键字。-dml" class="header-anchor">#</a> 插入数据，insert关键字。（DML）</h3> <h3 id="插入值"><a href="#插入值" class="header-anchor">#</a> 插入值</h3> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">//语法格式：	</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> 表名（字段名<span class="token number">1</span>，字段名<span class="token number">2</span>，字段名<span class="token number">3</span>……）<span class="token keyword">values</span>（值<span class="token number">1</span>，值<span class="token number">2</span>，值<span class="token number">3</span>）<span class="token punctuation">;</span>

<span class="token comment">//注意：字段名和值要一一对应，即数据类型要对应，数量要对应。</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> t_student<span class="token punctuation">(</span><span class="token keyword">no</span><span class="token punctuation">,</span>name<span class="token punctuation">,</span>sex<span class="token punctuation">,</span>age<span class="token punctuation">,</span>email<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'zhangsan'</span><span class="token punctuation">,</span><span class="token string">'m'</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token string">'zhangsan@123.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> t_student<span class="token punctuation">(</span><span class="token keyword">no</span><span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//没有给其他字段指定值的时候，其他位置为NULL；</span>
<span class="token comment">//insert语句只要执行成功了，必须会多一条记录。</span>

<span class="token comment">//给某个字段指定默认值</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> t_student<span class="token punctuation">(</span>	<span class="token keyword">no</span> <span class="token keyword">int</span><span class="token punctuation">,</span> sex <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> defult <span class="token string">'f'</span><span class="token punctuation">,</span>	name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">,</span> age <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> email <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//sex没有插入值时，默认值是‘f’。    </span>
<span class="token comment">//insert语句中的字段名可以省略吗，可以insert into t_student values(和字段的数据类型，数量匹配的值);</span>
<span class="token comment">//不写字段时，相当于全写。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="insert一次插入多条记录"><a href="#insert一次插入多条记录" class="header-anchor">#</a> insert一次插入多条记录</h3> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> t_user<span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>birth<span class="token punctuation">,</span> create_time<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'zhangsan'</span><span class="token punctuation">,</span><span class="token string">'1980-01-01'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'lisi'</span><span class="token punctuation">,</span><span class="token string">'2000-01-01'</span><span class="token punctuation">)</span>

<span class="token comment">//语法格式：</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> t_user<span class="token punctuation">(</span>字段名<span class="token number">1</span>，字段名<span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="将查询结果插入到一张表当中-了解"><a href="#将查询结果插入到一张表当中-了解" class="header-anchor">#</a> 将查询结果插入到一张表当中（了解）</h3> <p><code>creat table dept_bak as select from dept;</code></p> <p><code>insert into dept_bak select * from dept_bak;</code></p> <p>很少用这种方式。</p> <h3 id="insert插入日期"><a href="#insert插入日期" class="header-anchor">#</a> insert插入日期</h3> <h4 id="str-to-date函数"><a href="#str-to-date函数" class="header-anchor">#</a> str_to_date函数:</h4> <p><strong>将字符串varchar类型转换成date类型</strong></p> <blockquote><p>语法格式：</p> <p>str_to_date('字符串日期'，‘日期格式’);</p></blockquote> <p>date_format:将date类型转换成具有一定格式的varchar的字符串类型。</p> <p><em><strong>注意：数据库中的一条命名规范，所有的标识符都是全小写，单词和单词之间使用下划线分隔开。</strong></em></p> <p>mysql的日期格式：</p> <blockquote><p>%Y 年</p> <p>%m 月</p> <p>%d 日</p> <p>%h 时</p> <p>%i 分</p> <p>% 秒</p></blockquote> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> t_user<span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>birth<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'zhangsan'</span><span class="token punctuation">,</span>str_to_date<span class="token punctuation">(</span><span class="token string">'01-10-1990'</span><span class="token punctuation">,</span> <span class="token string">'%d-%m-%Y'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>str_to_date函数可以把字符串varchar转换成date类型日期数据，</p> <p>通常使用在插入insert方面，因为插入的时候需要一个日期类型的数据。需要通过函数将字符串转换成date。</p> <p>如果提供的日期字符串是这个格式，str_to_date函数就不需要了，会自动做类型转换。</p> <blockquote><p>%Y-%m-%d 		1990-10-01</p></blockquote> <h4 id="date-format函数。"><a href="#date-format函数。" class="header-anchor">#</a> date_format函数。</h4> <p><strong>将日期类型转换成特定格式的字符串</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> id name<span class="token punctuation">,</span>date_format<span class="token punctuation">(</span>birth<span class="token punctuation">,</span><span class="token string">'%m-%d'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> t_user<span class="token punctuation">;</span>date_fromat函数的使用语法格式：date_format<span class="token punctuation">(</span>日期类型，‘日期格式’<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="date和datetime类型的区别"><a href="#date和datetime类型的区别" class="header-anchor">#</a> date和datetime类型的区别：</h2> <p>date是短日期，只包括年月日</p> <p>datetime是长日期，包括年月日时分秒信息。</p> <p>mysql短日期默认格式：%Y-%m-%d</p> <p>mysql长日期默认格式：%Y-%m-%d %h : %i : %s;</p> <p><strong>获取系统当前时间的函数</strong></p> <p>now()函数并且获取的时间带有时分秒。</p> <h2 id="dml语句"><a href="#dml语句" class="header-anchor">#</a> DML语句</h2> <h3 id="修改update"><a href="#修改update" class="header-anchor">#</a> 修改update</h3> <p>语法格式：</p> <p>​	<code>update 表名 set 字段名1=值1，字段名2=值2，字段名3=值3…where 条件;</code></p> <p><strong>注意：没有条件限制会导致左右数据全部更新</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">update</span> t_user <span class="token keyword">set</span> name <span class="token operator">=</span> <span class="token string">'jack'</span><span class="token punctuation">,</span>birth <span class="token operator">=</span> <span class="token string">'2000-10-11'</span> <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

<span class="token comment">//修改创建时间</span>
<span class="token keyword">update</span> t_user <span class="token keyword">set</span> name <span class="token operator">=</span> <span class="token string">'jack'</span><span class="token punctuation">,</span>birth <span class="token operator">=</span> <span class="token string">'2000-10-11'</span><span class="token punctuation">,</span>create_time <span class="token operator">=</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

<span class="token comment">//更新所有：</span>
<span class="token keyword">update</span> t_user <span class="token keyword">set</span> name <span class="token operator">=</span> <span class="token string">'abc'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="删除delete语句"><a href="#删除delete语句" class="header-anchor">#</a> 删除delete语句</h3> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>语法格式：
<span class="token keyword">delete</span> <span class="token keyword">from</span> 表名 <span class="token keyword">where</span> 条件
注意：没有<span class="token keyword">where</span>条件时会删除整张表的数据。

清空所有
<span class="token keyword">delete</span> <span class="token keyword">from</span> t_user<span class="token punctuation">;</span>

<span class="token keyword">delete</span>语句的删除原理：（逻辑删除）
删除表中的当前内容不会删除表中的数据空间。不会释放物理空间。
缺点：删除效率低
优点：删除之后可以回滚，恢复。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="快速删除表中的数据"><a href="#快速删除表中的数据" class="header-anchor">#</a> 快速删除表中的数据</h3> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">truncate</span>语句：快速删除表中的数据。表格式还在
缺点：不支持回滚，
优点：快速删除表，删除表的物理空间。

用法：
<span class="token keyword">truncate</span> <span class="token keyword">table</span> dept_bak<span class="token punctuation">;</span>   （这种操作方式属于DDL操作）。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="约束"><a href="#约束" class="header-anchor">#</a> 约束</h2> <h3 id="约束概述"><a href="#约束概述" class="header-anchor">#</a> 约束概述</h3> <p>约束对应的单词：constraint</p> <p>在创建表的时候，我们可以给表的字段加上一些约束，来保证这个表中数据的完整性，有效性</p> <p><strong>约束的作用是为了保证表中的数据有效。</strong></p> <h3 id="约束包括那些"><a href="#约束包括那些" class="header-anchor">#</a> 约束包括那些</h3> <ol><li>非空约束   not null</li> <li>唯一性约束 unique</li> <li>主键约束  primary key (简称PK)</li> <li>外键约束 foregin key （简称FK）</li> <li>检查约束 check  （mysql不支持，oracle支持）</li></ol> <h3 id="非空约束"><a href="#非空约束" class="header-anchor">#</a> 非空约束</h3> <p>非空约束not null约束的字段不能为null</p> <p><strong>not null只有列级约束，没有表级约束。</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> t_vip<span class="token punctuation">(</span>
	id <span class="token keyword">int</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span>
    <span class="token comment">//限定了name字段不能为空。</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="sql脚本文件"><a href="#sql脚本文件" class="header-anchor">#</a> SQL脚本文件</h3> <blockquote><p>XXXX.sql 被称为sql脚本文件，SQL脚本文件中编写了大量的sql语句，</p> <p>当我们执行sql脚本文件的时候，该文件中的所有sql语句都会执行。</p> <p>当需要批量执行SQL语句，可以使用SQL脚本文件</p> <p>执行SQL脚本文件的方式</p> <p><code>source + '绝对路径';</code></p></blockquote> <p><em><strong>source命令直接执行sql脚本文件。</strong></em></p> <h3 id="唯一性约束-unique"><a href="#唯一性约束-unique" class="header-anchor">#</a> 唯一性约束，unique</h3> <p>唯一性约束的字段不能重复，但是可以为null。</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> t_vip<span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> t_vip<span class="token punctuation">(</span>
	id <span class="token keyword">int</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">unique</span><span class="token punctuation">,</span>
    <span class="token comment">//限定了name字段不能重复。</span>
    email <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> t_vip<span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>email<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'zhangsan'</span><span class="token punctuation">,</span><span class="token string">'zhangsan@123.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> t_vip<span class="token punctuation">(</span>idmname<span class="token punctuation">,</span>email<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">'lisi'</span><span class="token punctuation">,</span><span class="token string">'lisi@123.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> t_vip<span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>email<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'zhangsan'</span><span class="token punctuation">,</span><span class="token string">'zhangsan@qq.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//报错：Duplicate entry ‘zhangsan’ for key ‘name’</span>

<span class="token comment">//虽然naem被unique约束，但是可以同时插入NULL</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> t_vip<span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> t_vip<span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="两个字段联合唯一"><a href="#两个字段联合唯一" class="header-anchor">#</a> 两个字段联合唯一</h3> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">//需求：name和email两个字段联合起来据哦于唯一性</span>
<span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> t_vip<span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> t_vip<span class="token punctuation">(</span>
	id <span class="token keyword">int</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">unique</span><span class="token punctuation">,</span>
    email <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">unique</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//这样编写代码不符合以上唯一性需求。</span>
<span class="token comment">//这样表示：name具有唯一性，email也具有唯一性。各自唯一。</span>

<span class="token comment">//希望实现以下的效果：使用以上方式创建表，插入不了以下数据，因为‘zhangsan’重复了</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> t_vip<span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>email<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'zhangsan'</span><span class="token punctuation">,</span><span class="token string">'zhangsan@123.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> t_vip<span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>email<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'zhangsan'</span><span class="token punctuation">,</span><span class="token string">'zhangsan@qq.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//使用以下方式创建</span>
<span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> t_vip<span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> t_vip<span class="token punctuation">(</span>
	id <span class="token keyword">int</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    email <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">unique</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>email<span class="token punctuation">)</span>
    <span class="token comment">//name和email两个字段联合起来唯一。</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p><strong>约束没有添加在列的后面，这种约束被称为表级约束。</strong></p> <blockquote><p>需要给多个字段联合起来添加某一个约束的时候，需要使用表级约束</p></blockquote> <p><strong>约束条件添加到列后面的，叫做列级约束。</strong></p> <h3 id="unique和not-null可以联合吗"><a href="#unique和not-null可以联合吗" class="header-anchor">#</a> unique和not null可以联合吗</h3> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> t_vip<span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> t_vip<span class="token punctuation">(</span>
	id <span class="token keyword">int</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">unique</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//被 not null unique 同时约束的话，该字段会自动变成主键字段。（注意：oracle中不一样！）</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> t_vip<span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'zhangsan'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> t_vip<span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">'zhangsan'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//错误：name'zhangsan'重复。</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> t_vip<span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//错误：name不能为空。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="主键约束-primary-key-简称pk"><a href="#主键约束-primary-key-简称pk" class="header-anchor">#</a> 主键约束（primary key 简称PK *********）：</h3> <h4 id="主键约束的相关术语"><a href="#主键约束的相关术语" class="header-anchor">#</a> 主键约束的相关术语</h4> <p>主键约束：就是一种约束</p> <p>主键字段：该字段上添加了主键约束，这样的字段叫做：主键字段</p> <p>主键值：主键字段中的每一个值都叫做：主键值。</p> <h4 id="主键是什么-主键的作用"><a href="#主键是什么-主键的作用" class="header-anchor">#</a> 主键是什么，主键的作用</h4> <p>主键值是每一行记录的唯一标识。</p> <p>主键值是每一行记录的身份证号。</p> <p><strong>任何一张表都应该有主键。没有主键，表无效。</strong></p> <p><strong>主键不能有default</strong></p> <blockquote><p>create table user(</p> <p>​	id int(20) not null primary key ,</p> <p>name varchar(30) not null</p> <p>)engine=innodb default charset =utf8;</p></blockquote> <p><strong>主键的特征：not null + unique（主键值不能是NULL，同时也不能重复！）</strong></p> <h4 id="给一张表添加主键"><a href="#给一张表添加主键" class="header-anchor">#</a> 给一张表添加主键：</h4> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> t_vip<span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> t_vip<span class="token punctuation">(</span>
	id <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">unique</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> 
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> t_vip<span class="token punctuation">(</span>id <span class="token punctuation">,</span>name<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'zhangsan'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> t_vip<span class="token punctuation">(</span>id <span class="token punctuation">,</span>name<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'lisi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> t_vip<span class="token punctuation">(</span>id <span class="token punctuation">,</span>name<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">'wangwu'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//错误：duplicate entry '2' for key 'PRIMARY'</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> t_vip<span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">'wangwu'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//错误：不能为NULL</span>

<span class="token comment">//使用表级约束</span>
<span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> t_vip<span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> t_vip<span class="token punctuation">(</span>
	id <span class="token keyword">int</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>		<span class="token comment">//表级约束</span>
    <span class="token comment">//一个字段做主键，叫做单一主键</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//表级约束主要是给多个字段联合起来添加约束。</span>
<span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> t_vip<span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> t_vip<span class="token punctuation">(</span>
	id <span class="token keyword">int</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    email <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">)</span>		<span class="token comment">//表级约束</span>
    <span class="token comment">//两个字段联合起来做主键，叫做复合主键！</span>
    <span class="token comment">//在实际开发中不建议使用复合主键。</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h4 id="主键数量"><a href="#主键数量" class="header-anchor">#</a> 主键数量</h4> <p>一个表中只能添加一个主键约束。</p> <h4 id="主键值建议使用类型"><a href="#主键值建议使用类型" class="header-anchor">#</a> 主键值建议使用类型</h4> <p>int</p> <p>bigint</p> <p>char</p> <p>……</p> <p>不建议使用：varchar来做主键，主键值一般都是数字，而且都是定长的。</p> <h4 id="主键分类"><a href="#主键分类" class="header-anchor">#</a> 主键分类</h4> <p>除了单一主键和复合主键之外，还可以分为自然主键和业务主键</p> <p>自然主键：主键值是一个自然数，和业务没有关系</p> <p>业务主键：主键值和业务紧密联系，例如拿银行卡账号做主键值，这就是业务主键！</p> <p>在实际开发中：自然主键使用比较多，因为逐渐只要做到不重复就行，不需要有意义。</p> <p>业务主键不好，因为主键一旦和业务挂钩，那么当业务发生变动时，可能会影响到主键值，所以不建议业务逐渐。尽量使用自然主键。</p> <p>在musql当中，有一种机制，可以帮我们自动维护主键值</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> t_vip<span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> t_vip<span class="token punctuation">(</span>
	id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
    <span class="token comment">//auto_increment从一开始，以一自增.</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> 
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> t_vip<span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'zhangsan'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> t_vip<span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'zhangsan'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> t_vip<span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'zhangsan'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> t_vip<span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'zhangsan'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> t_vip<span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'zhangsan'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> t_vip<span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'zhangsan'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> t_vip<span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'zhangsan'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t_vip<span class="token punctuation">;</span>
id会自增，
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="外键约束-foreign-key-简称-fk"><a href="#外键约束-foreign-key-简称-fk" class="header-anchor">#</a> 外键约束（foreign key 简称 FK *********）</h3> <h4 id="外键约束的相关术语"><a href="#外键约束的相关术语" class="header-anchor">#</a> 外键约束的相关术语</h4> <p>外键约束：就是一种约束foreign key）</p> <p>外键字段：该字段上添加了外键约束，这样的字段叫做：外键字段</p> <p>外键值：外键字段中的每一个值都叫做：外键值。</p> <h4 id="业务背景"><a href="#业务背景" class="header-anchor">#</a> 业务背景</h4> <p>设计一张数据库表</p> <p>第二种方案：班级一张表，学上一张表。</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>t_class班级表
calssno<span class="token punctuation">(</span>PK<span class="token punctuation">)</span>		classname
<span class="token comment">------------------------------</span>
<span class="token number">100</span>				甘肃省镇原县三岔镇高三<span class="token number">3</span>班
<span class="token number">101</span>				甘肃省镇原县三岔镇高三<span class="token number">6</span>班

t_students
<span class="token keyword">no</span><span class="token punctuation">(</span>PK<span class="token punctuation">)</span>		name		cno<span class="token punctuation">(</span>FK引用_class这张表中的classno<span class="token punctuation">)</span>
<span class="token comment">-----------------------------</span>
<span class="token number">1</span>			jack		<span class="token number">100</span>
<span class="token number">2</span>			tom			<span class="token number">100</span>
<span class="token number">3</span>			lucy		<span class="token number">100</span>
<span class="token number">4</span>			jim			<span class="token number">101</span>
<span class="token number">5</span>			lisi		<span class="token number">101</span>
<span class="token number">6</span>			zhangsan	<span class="token number">101</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>当cno字段没有任何约束的时候，可能会导致数据无效，可能出现一个102，但是103班级不存在，所以为了保证cno字段中的值都是100和101，需要给cno字段添加外键约束</p> <p>那么：cno字段就是外键字段。cno字段中的每一个值都是外简值。</p> <p><strong>注意：t_class 是父表。 t_students是子表。</strong></p> <p><strong>删除表的顺序：先删子，再删父</strong></p> <p><strong>创建表的顺序：先创建父，再创建子</strong></p> <p><strong>删除数据的顺序：先删子，再删父</strong></p> <p><strong>插入数据的顺序：先插入父，再插入子</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>创建这张表的<span class="token keyword">sql</span>文件
<span class="token keyword">set</span> foreign_key_checks<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> t_student<span class="token punctuation">;</span>
<span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> t_class<span class="token punctuation">;</span>
<span class="token keyword">set</span> foreign_key_checks<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>

<span class="token keyword">create</span> <span class="token keyword">table</span> t_class<span class="token punctuation">(</span>
	classno <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
    classname <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> t_student<span class="token punctuation">(</span>
	<span class="token keyword">no</span> <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    cno <span class="token keyword">int</span><span class="token punctuation">,</span>
    <span class="token keyword">constraint</span> cforeign <span class="token keyword">key</span><span class="token punctuation">(</span>cno<span class="token punctuation">)</span> <span class="token keyword">references</span> t_class<span class="token punctuation">(</span>classno<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> t_class<span class="token punctuation">(</span>classno<span class="token punctuation">,</span>classname<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token string">'甘肃省镇原县三岔镇高三3班'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> t_class<span class="token punctuation">(</span>classno<span class="token punctuation">,</span>classname<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">101</span><span class="token punctuation">,</span><span class="token string">'甘肃省镇原县三岔镇高三6班'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> t_student<span class="token punctuation">(</span>name<span class="token punctuation">,</span>cno<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'jack'</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> t_student<span class="token punctuation">(</span>name<span class="token punctuation">,</span>cno<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'tom'</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> t_student<span class="token punctuation">(</span>name<span class="token punctuation">,</span>cno<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'lucy'</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> t_student<span class="token punctuation">(</span>name<span class="token punctuation">,</span>cno<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'jim'</span><span class="token punctuation">,</span><span class="token number">101</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> t_student<span class="token punctuation">(</span>name<span class="token punctuation">,</span>cno<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'lisi'</span><span class="token punctuation">,</span><span class="token number">101</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> t_student<span class="token punctuation">(</span>name<span class="token punctuation">,</span>cno<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'zhangsan'</span><span class="token punctuation">,</span><span class="token number">101</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t_student<span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t_class<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p><em><strong>创建数据库时要设置数据库的编码为utf-8编码。</strong></em></p> <p>外键值可以为NULL。</p> <p>子表中的外键引用父表中的字段时，父表中的字段必须要主键吗？</p> <p>不一定</p> <h2 id="存储引擎-了解内容"><a href="#存储引擎-了解内容" class="header-anchor">#</a> 存储引擎（了解内容）</h2> <h3 id="存储引擎的作用"><a href="#存储引擎的作用" class="header-anchor">#</a> 存储引擎的作用</h3> <p>存储引擎时mysql中特有的一个术语，其他数据库没有，（Oracle中有，但是不叫这个名字。）</p> <p>实际上是一个表存储/组织数据的方式不同</p> <p>不同的存储引擎，表存储数据的方式不同。</p> <h3 id="给表指定存储引擎的方式"><a href="#给表指定存储引擎的方式" class="header-anchor">#</a> 给表指定存储引擎的方式</h3> <p>可以在建表的时候给表指定存储引擎</p> <p>在见建表的时候可以在最后小括号的“）”的后面使用</p> <p>ENGINE来指定存储引擎</p> <p>CHARSET来指定这张表的字符编码方式</p> <p>结论：</p> <blockquote><p>mysql默认的存储引擎是：InnoDB</p> <p>mysql默认的字符编码方式是：utf-8</p></blockquote> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> t_product<span class="token punctuation">(</span>
	id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token keyword">engine</span> <span class="token operator">=</span> <span class="token keyword">InnoDB</span> <span class="token keyword">default</span> <span class="token keyword">charset</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="mysql支持的存储引擎"><a href="#mysql支持的存储引擎" class="header-anchor">#</a> mysql支持的存储引擎</h3> <p><code>show engines \G;</code></p> <p>一共支持9大存储引擎。版本不同支持情况不同。</p> <h3 id="mysql常用的存储引擎"><a href="#mysql常用的存储引擎" class="header-anchor">#</a> mysql常用的存储引擎</h3> <h4 id="myisam存储引擎"><a href="#myisam存储引擎" class="header-anchor">#</a> MyISAM存储引擎</h4> <blockquote><p>它管理的表具有以下特征</p> <p>​	使用以下三个文件表示每个表</p> <p>​		格式文件 - 存储表结构的定义（mytable.frm）</p> <p>​		数据文件 - 存储表行的内容（nytable.MYD）</p> <p>​		索引文件 - 存储表上的索引（mytable.MYI）</p> <p>​	优势：可被转换为压缩，只读表来节省空间。</p></blockquote> <h4 id="innodb存储引擎"><a href="#innodb存储引擎" class="header-anchor">#</a> InnoDB存储引擎</h4> <blockquote><p>这是mysql默认的存储引擎，同时也是重量级的存储引擎。</p> <p><strong>它支持事务，支持数据库崩溃之后的自动恢复机制</strong></p> <p><strong>最重要的特点是：非常安全。</strong></p> <p>效率不是很高，不能压缩，不能节省存储空间。</p> <p><strong>它管理的表具有以下特征：</strong></p> <p>1:支持事务(要么全成功、要么全失败);</p> <p>2:行级锁定(更新数据时一般指锁定当前行)：通过索引实现、全表扫描忍让时表锁、注意间隙所的影响;
3:读写阻塞与事务的隔离级别相关；
4:具有非常高的缓存特性(既能缓存索引、也能缓存数据)；
5:这个表和主键以组(Cluster)的方式存储、组成一颗平衡树；
6:所有的辅助索引(secondary indexes)都会保存主键信息；
7:支持分区、表空间（逻辑名称）tablespace类似与oracle 数据库；
8:支持外键约束、不支持全文检索(5.5.5之前的MyISAM支持全文检索、5.5.5之后就不在支持);
9:相对MyISAM而言、对硬件的要求比较高</p></blockquote> <h4 id="memory存储引擎"><a href="#memory存储引擎" class="header-anchor">#</a> MEMORY存储引擎</h4> <blockquote><p>使用MEMORY存储引擎存储的表，其数据存储在内存中，且行的长度固定。</p> <p>查询效率最高，不需要和硬盘交互。</p> <p>但是不安全。关机之后数据消失，因为数据和索引都是存储在内存当中。</p></blockquote> <h2 id="事务-理解-掌握"><a href="#事务-理解-掌握" class="header-anchor">#</a> 事务（理解，掌握*****）</h2> <h3 id="概述-4"><a href="#概述-4" class="header-anchor">#</a> 概述：</h3> <p>一个事务就是一个完整的业务逻辑。</p> <p>完整的业务逻辑</p> <p>​	假设转账：A转账1000给B</p> <p>​	A账户减去1000；</p> <p>​	B账户加上1000；</p> <p>​	以上的操作就是一个最小的工作单元，要么同时成功，要么同时失败，不可再分。同时成功同时失败才能保证钱是安全的。</p> <h3 id="只有dml语句才会有事务这个说法-其他语句没有"><a href="#只有dml语句才会有事务这个说法-其他语句没有" class="header-anchor">#</a> 只有DML语句才会有事务这个说法，其他语句没有！</h3> <p>insert</p> <p>update</p> <p>delete</p> <p>只有以上三个语句和事务有关，其他都没有关系、</p> <p>因为只有以上的三个语句是数据库表中数据进行增删改查的。</p> <p>只要你的操作涉及到了数据的增删改查，就一定要考虑，数据安全问题。数据安全第一位。</p> <h3 id="只要一条语句就能完成-还有必要存在事务机制吗"><a href="#只要一条语句就能完成-还有必要存在事务机制吗" class="header-anchor">#</a> 只要一条语句就能完成，还有必要存在事务机制吗？</h3> <p>因为所有的业务不能一条语句完成所以才需要事务的存在。</p> <p>事务的本质就是要多条DML语句同时成功或者同时失败。</p> <h3 id="事务的实现方式"><a href="#事务的实现方式" class="header-anchor">#</a> 事务的实现方式</h3> <p>InnoDB存储引擎：提供一组用来记录事务性活动的日志文件</p> <p>在事务的执行过程中，每一条DML语句的操作都会记录到‘事务性活动的日志文件’中。在事务的执行过程中，我们可以提交事务，也可以回滚事务</p> <p>提交事务：</p> <p>​	清空事务性活动的日志文件，将数据全部彻底持久化到数据库表中。</p> <p>​	提交事务之际，事务的结束，并且是一种全部成功的结束。</p> <p>回滚事务：</p> <p>​	将之前所有的DML操作全部撤销，并且清空事务性活动的日志文件。</p> <p>​	回滚事务标志着，事物的结束，并且是一种全部失败的结束。</p> <h3 id="提交事务和回滚事务"><a href="#提交事务和回滚事务" class="header-anchor">#</a> 提交事务和回滚事务</h3> <p>transaction：事务。</p> <blockquote><p>提交事务：commit; 语句</p> <p>回滚事务：rollback; 语句 （永远只能回滚到最近的一个提交点）</p></blockquote> <p>mysql默认的事务提交机制：</p> <p>​	mysql默认情况下是支持自动提交事务的。</p> <p>​		这种的自动提交机制不符合开发习惯，日常使用中我们需要关闭这个功能。</p> <p>​	没执行一条DML语句，则提交一次。</p> <p>关闭mysql的自动提交机制</p> <p>​	先执行这个命令：<code>start transaction(开启事务);</code></p> <h3 id="事务特性"><a href="#事务特性" class="header-anchor">#</a> 事务特性</h3> <p>一件事就是一个事务。</p> <p>A：原子性</p> <p>​	说明事务是最小的工作单元。不可再分</p> <p>C：一致性</p> <p>​	所有事务要求，在同一个事务中，所有的操作必须同时成功或者同时失败。以保证数据的一致性</p> <p>I：隔离性</p> <p>​	事务之间具有一定的隔离。</p> <p>D：持久性</p> <p>​	事务最终结束的保障。事务提交，就相当于将没有保存到硬盘上的数据保存到硬盘上。</p> <h3 id="事务的4个隔离级别"><a href="#事务的4个隔离级别" class="header-anchor">#</a> 事务的4个隔离级别：</h3> <blockquote><p>读未提交：read uncommitted （最低的隔离级别）</p> <p>​	事务A可以读取到事务B未提交的数据。</p> <p>​	这种隔离级别存在的问题是：</p> <p>​		脏读现象！（Dirty Read）</p> <p>​		读到了脏数据。</p> <p>​	这种隔离级别是理念上的，大多数的数据库都是二档起步。</p> <p>读已提交：read commited</p> <p>​	事务A之能读取到事务B提交之后的数据</p> <p>​	这种隔离级别解决了脏读现象。</p> <p>​	这种隔离级别存在的问题是：</p> <p>​		不可重复读取数据。</p> <p>​		<strong>在事务开启的时候，第一次读到的数据是3条，第二次是4条。3不等于4.称为不可重复读取。</strong></p> <p>​	这种隔离级别是比较真实的数据，每一次读到的数据都是绝对真实。</p> <p>​	oracle数据库的默认级别是read commited。</p> <p>可重复读：repeatable</p> <p>​	事务A开启之后，不管是多久，每一次在事务A中读取到的数据都是一致的。即使事务B将数据修改了，已提交了，事务A读取到的数据还是没有改变。</p> <p>​	这种隔离级别解决了不可重复读取的问题。</p> <p>​	这种隔离级别存在的问题是：</p> <p>​		可能会出幻影读</p> <p>​		每一次读取到的数据都是幻象，不够真实</p> <p>​	mysql中默认的事务隔离级别是这个！</p> <p>序列化/串行化：serializable（ 最高的隔离级别）</p> <p>​	这是最高的隔离级别，效率最低，解决了所有问题。</p></blockquote> <h3 id="演示隔离级别"><a href="#演示隔离级别" class="header-anchor">#</a> 演示隔离级别</h3> <p>查看隔离级别：select @@tx_isloation;</p> <p>修改事务的隔离级别：set global transaction isolation read uncommitted;</p> <h2 id="索引-index"><a href="#索引-index" class="header-anchor">#</a> 索引（index）</h2> <h3 id="概述-5"><a href="#概述-5" class="header-anchor">#</a> 概述：</h3> <p>索引实在数据库表的字段上添加的，是为了提高查询效率存在的一种机制。</p> <p>一张表的一个字段可以添加一个索引，多个字段联合起来也可以添加索引。</p> <p>索引相当于一本书的目录，是为了缩小扫描范围而存在的一种机制。</p> <p>MySQL在查询方面主要就是两种方式：</p> <p>​	第一种：全表扫描</p> <p>​	第二种：根据索引检索</p> <p><strong>注意：</strong></p> <blockquote><p>在实际中，汉语字典前面的索引也是需要排序的，并且这个索引的排序和TreeSet数据结构相同，TreeSet（TreeMap）底层是一个自平衡的二叉树！在mysql当中索引是一个B-Tree数据结构</p> <p>遵循左小右大原则存放，采用中序遍历方式遍历取数据。</p></blockquote> <h3 id="索引的实现原理"><a href="#索引的实现原理" class="header-anchor">#</a> 索引的实现原理</h3> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>t_user
id<span class="token punctuation">(</span>PK<span class="token punctuation">)</span>				name		每一行记录在硬盘上都有物理存储编号。
<span class="token comment">--------------------------------------------------------------</span>
<span class="token number">100</span>					zhangsan		<span class="token number">0x1111</span>
<span class="token number">120</span>					lisi			<span class="token number">0x2222</span>
<span class="token number">99</span>					wnagwu			<span class="token number">0x3333</span>
<span class="token number">88</span>					zhangliu		<span class="token number">0x4444</span>
<span class="token number">101</span>					jack			<span class="token number">0x5555</span>
<span class="token number">78</span>					lucy			<span class="token number">0x6666</span>
<span class="token number">130</span>					tom				ox7777

<span class="token number">1</span><span class="token punctuation">,</span>在任何数据库当中主键上都会自动添加索引对象，id字段上自动有索引，因为id是PK，另外在mysql中，一个字段如果有<span class="token keyword">unique</span>约束的话，id字段上也会自动创建索引对象。
<span class="token number">2</span>，在任何数据库中，任何一张表的任何一条记录在硬盘存储上都有一个硬盘的物理存储编号。
<span class="token number">3</span>，在mysql中，索引是一个单独的对象，不同的存储引擎以不同的形式存在。在MyISAM存储引擎中，索引存储在一个<span class="token punctuation">.</span>MYT文件中，在<span class="token keyword">InnoDB</span>存储引擎中索引存储在一个逻辑名称叫做<span class="token keyword">tablespace</span>当中，在MEMORY存储引擎中索引被存在内存中，不管索引存储在哪里，索引在mysql中都是以一个树的形式存在。（自平衡二叉树：B<span class="token operator">-</span>Tree）
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><img src="C:/Users/Administrator/Desktop/index.PNG" alt="index"></p> <h3 id="什么条件下-会考虑给字段上添加索引"><a href="#什么条件下-会考虑给字段上添加索引" class="header-anchor">#</a> 什么条件下，会考虑给字段上添加索引？</h3> <p>条件1：数据量庞大。（庞大的程度需要测试，硬件环境不同）</p> <p>条件2：该字段经常出现在where的后面，以条件的形式存在，也就是说这个字段总是被扫描</p> <p>条件3：该字段很少的DML操作。（因为DML之后吗，索引需要重新排序）</p> <p>建议不要随便添加索引，因为索引也是需要维护的，太多的话反而会降低系统的性能。建议通过主键查询，建议通过unique约束的字段进行查询，效率是比较高的。</p> <h3 id="索引的创建和删除"><a href="#索引的创建和删除" class="header-anchor">#</a> 索引的创建和删除</h3> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>  <span class="token comment">//创建索引</span>
  <span class="token keyword">create</span> <span class="token keyword">index</span> emp_name_index <span class="token keyword">on</span> emp<span class="token punctuation">(</span>ename<span class="token punctuation">)</span>
  
  <span class="token comment">//给emp表中的ename字段添加索引，起名：emp_ename_index</span>
  
  <span class="token comment">//删除索引</span>
  <span class="token keyword">drop</span> <span class="token keyword">index</span> emp_ename_index <span class="token keyword">on</span> emp<span class="token punctuation">;</span>
  <span class="token comment">//将emp表上的emp_ename_index索引对象删除</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="查看一个sql语句是否使用了索引进行检索。"><a href="#查看一个sql语句是否使用了索引进行检索。" class="header-anchor">#</a> 查看一个sql语句是否使用了索引进行检索。</h3> <p>explain select * from emp where ename = 'KING';</p> <p>explain: 解释。</p> <h3 id="索引失效"><a href="#索引失效" class="header-anchor">#</a> 索引失效</h3> <h4 id="失效的第一种情况"><a href="#失效的第一种情况" class="header-anchor">#</a> 失效的第一种情况</h4> <p>select *from emp where ename like '%T';</p> <p>ename上即使添加了索引，也不会走索引。</p> <p>​	因为模糊匹配当中以“‘%&quot;开头了</p> <p>​	实际开发中，尽量避免以%开头。</p> <p>​	这是一种优化的手段/策略</p> <h4 id="失效的第二种情况"><a href="#失效的第二种情况" class="header-anchor">#</a> 失效的第二种情况</h4> <p>使用or的时候会失效，如果使用or那么要求or两边的条件字段都要有索引，才会有索引，如果其中一边有一个字段没有索引，那么另一个字段上的索引也会实现，所以这就是为什么不建议使用or的原因。</p> <p>可以使用union！</p> <h4 id="失效的第三种情况"><a href="#失效的第三种情况" class="header-anchor">#</a> 失效的第三种情况</h4> <p>使用复合索引的时候，没有使用左侧的列查找，索引失效。</p> <p>复合索引：</p> <p>​	两个或者更多的字段联合起来添加一个索引。</p> <h4 id="失效的第四种情况"><a href="#失效的第四种情况" class="header-anchor">#</a> 失效的第四种情况</h4> <p>在where当中索引列参加了运算，索引失效。</p> <h4 id="失效的第五种情况"><a href="#失效的第五种情况" class="header-anchor">#</a> 失效的第五种情况</h4> <p>在where当中索引列使用了函数</p> <h3 id="索引的分类"><a href="#索引的分类" class="header-anchor">#</a> 索引的分类</h3> <p>索引是各种数据库进行优化的重要手段，优化的时候优先考虑的是索引。</p> <blockquote><p>单一索引：一个字段上添加索引</p> <p>复合索引：两个字段或者更多的字段上添加索引。</p> <p>主键索引：主键上添加索引</p> <p>唯一性索引：使用unique约束的字段上添加索引</p> <p><strong>注意：在唯一性比较弱的字段上添加索引用处不大</strong></p></blockquote> <h2 id="视图-view"><a href="#视图-view" class="header-anchor">#</a> 视图（view）</h2> <h3 id="概述-6"><a href="#概述-6" class="header-anchor">#</a> 概述：</h3> <p>站在不同的角度去看待同一份数据</p> <h3 id="怎么创建视图对象-怎么删除视图对象"><a href="#怎么创建视图对象-怎么删除视图对象" class="header-anchor">#</a> 怎么创建视图对象，怎么删除视图对象</h3> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">//创建视图对象</span>
<span class="token keyword">create</span> <span class="token keyword">view</span> dept2_view <span class="token keyword">as</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> dept2<span class="token punctuation">;</span>
<span class="token comment">//将查询结果作为视图</span>

<span class="token comment">//删除</span>
<span class="token keyword">drop</span> <span class="token keyword">view</span> dept2_view<span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>注意：只有DQL语句才能创建以view的形式创建。</strong></p> <p><code>create view view_name as 这里的语句必须是DQL语句;</code></p> <h3 id="视图的作用"><a href="#视图的作用" class="header-anchor">#</a> 视图的作用</h3> <p>可以面向视图对象进行增删改查，对<strong>视图的增删改查，导致原表被修改。</strong></p> <h4 id="视图对象在实际开发中的作用"><a href="#视图对象在实际开发中的作用" class="header-anchor">#</a> 视图对象在实际开发中的作用</h4> <p>假设有一条非常复杂的sql语句，而这条sql语句需要在不同的位置上反复使用，每一次都压重新编写，很长，很麻烦。怎么办？</p> <p>​	可以把这条复杂的sql语句以视图对象的形式创建</p> <p>​	在需要编写这条sql语句的位置直接使用视图对象，可以大大简化开发。</p> <p>​	并且利于后期的维护，因为修改的时候也只需要修改一个位置就行，只需要修改视图所映射的sql语句。</p> <p><strong>视图对象也是一个文件</strong>，在数据库中是以文件形式存储在硬盘上的的。</p> <h3 id="增删改查-又叫做crud"><a href="#增删改查-又叫做crud" class="header-anchor">#</a> 增删改查：又叫做CRUD</h3> <p>CRUD是程序员之间沟通的术语，一般我们很少说增删改查</p> <p>一般都说CRUD</p> <blockquote><p>C: Create (增)</p> <p>R: Retrive （查：检索）</p> <p>U: Update （改）</p> <p>D: Delete （删）</p></blockquote> <h2 id="dba-databasesadministrator-的命令-不经常使用"><a href="#dba-databasesadministrator-的命令-不经常使用" class="header-anchor">#</a> DBA（DataBasesAdministrator）的命令（不经常使用）</h2> <h3 id="数据导出"><a href="#数据导出" class="header-anchor">#</a> 数据导出：</h3> <p><strong>注意：在windows的命令行窗口中</strong></p> <p>​	导出SQL文件</p> <p>​	<code>nysqldump bjpowernode&gt;D:\bjpowernode.sql -uroot -p123456;</code></p> <p>​	导出指定的表</p> <p>​	<code>mysqldump bjpowernode emp&gt;D:\bjpowernode.sql -uroot -p123456;</code></p> <h3 id="数据导入"><a href="#数据导入" class="header-anchor">#</a> 数据导入</h3> <p>​	<strong>注意：需要先登录到mysql数据库服务器上</strong></p> <p>​	然后创建数据库：create database bipowernode;</p> <p>​	使用数据库：use bjpowernode;</p> <p>​	然后初始化数据库：surce D:\bipowernode.sql;</p> <h2 id="数据库设计三范式"><a href="#数据库设计三范式" class="header-anchor">#</a> 数据库设计三范式</h2> <h3 id="概述-7"><a href="#概述-7" class="header-anchor">#</a> 概述：</h3> <p>数据库的设计依据，教你怎么设计数据库表</p> <h3 id="数据库设计范式共有"><a href="#数据库设计范式共有" class="header-anchor">#</a> 数据库设计范式共有？</h3> <p>​	3个</p> <ol><li><p>要求任何一张表必须有主键，每一个字段原子性不可再分</p></li> <li><p>建立在第一范式的基础上，要求所有非主键字段完全依赖主键，不要产生部分依赖。</p></li> <li><p>建立在第二范式的基础上，要求所有非主键字段直接依赖主键。不要产生传递依赖。</p> <p><em><strong>声明：三范式是面试官经常问的，所以一定要熟记在心！</strong></em></p> <p>设计数据库表的时候，按照以上的范式进行，可以避免表中数据的冗余，空间的浪费。</p></li></ol> <h3 id="第一范式"><a href="#第一范式" class="header-anchor">#</a> 第一范式</h3> <p>最核心，最重要的范式，所有表的设计都需要满足。</p> <p>必须有主键，每一个字段原子性不可再分</p> <h3 id="第二范式"><a href="#第二范式" class="header-anchor">#</a> 第二范式</h3> <p>建立在第一范式的基础上，要求所有非主键字段完全依赖主键，不要产生部分依赖。</p> <p><em><strong>多对多的设计方式：多对多，三张表，关系表两个外键！</strong></em></p> <h3 id="第三范式"><a href="#第三范式" class="header-anchor">#</a> 第三范式</h3> <p>建立在第二范式的基础上，要求所有非主键字段直接依赖主键。不要产生传递依赖。</p> <p><em><strong>一对多，两张表，多的表加外键！</strong></em></p> <h2 id="总结表的设计"><a href="#总结表的设计" class="header-anchor">#</a> 总结表的设计</h2> <h3 id="一对多"><a href="#一对多" class="header-anchor">#</a> 一对多</h3> <p>​	一对多，两张表，多的表加外键！</p> <h3 id="多对多"><a href="#多对多" class="header-anchor">#</a> 多对多</h3> <p>​	多对多，三张表，关系表两个外键！</p> <h3 id="一对一"><a href="#一对一" class="header-anchor">#</a> 一对一</h3> <p>​	表中的字段太多，太庞大的时候需要拆分成两张表。</p> <p>​	<em><strong>一对一，外键唯一！</strong></em></p> <h2 id="设计总结"><a href="#设计总结" class="header-anchor">#</a> 设计总结</h2> <p><strong>数据库是设计三范式是理论上的，最终的目的是为了客户需求，有时候会用冗余换取速度。因为在sql中，多张表的连接会降低效率。（笛卡尔积现象）同时会降低sql语句的编写难度！</strong></p></div></div>  <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/05/26, 14:57:00</span></div></div> <div class="page-nav-wapper"><!----> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/4d2f74/" class="prev">harbor安装</a></span> <span class="next"><a href="/pages/5be280/">MySQL安装</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/82c021/"><div>
            kubernetes控制器-Service
            <!----></div></a> <span class="date">08-18</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/d5cb3c/"><div>
            kubernetes控制器-Deployment
            <!----></div></a> <span class="date">08-08</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/e33737/"><div>
            kubernetes调度基础
            <!----></div></a> <span class="date">07-27</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:248920070@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/xiaoliutalk" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://gitee.com/xiaoliuTalk" title="Gitee" target="_blank" class="iconfont icon-gitee"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2023-2024
    <span><a href="https://ipw.cn/ipv6webcheck/?site=www.xiaoliutalk.cn" title="本站支持IPv6访问" target="_blank"><img style="display:inline-block;vertical-align:middle" alt="本站支持IPv6访问" src="https://static.ipw.cn/icon/ipv6-s3.svg"></a>         <a href="https://ipw.cn/ssl/?site=www.xiaoliutalk.cn" title="本站支持SSL安全访问" target="_blank"><img style="display:inline-block;vertical-align:middle" alt="本站支持SSL安全访问" src="https://static.ipw.cn/icon/ssl-s3.svg"></a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><canvas id="vuepress-canvas-cursor"></canvas><div></div><div id="live2d-widget" class="live2d-widget-container" style="position:fixed;left:10px;bottom:0px;width:135px;height:200px;z-index:99999;opacity:0.8;pointer-events:none;"><canvas id="live2d_canvas" width="135" height="200" class="live2d_canvas" style="position:absolute;left:0px;top:0px;width:135px;height:200px;"></canvas></div><div></div></div></div>
    <script src="/assets/js/app.44d32a86.js" defer></script><script src="/assets/js/3.5c73636d.js" defer></script><script src="/assets/js/2.db635a7e.js" defer></script><script src="/assets/js/55.d7679bad.js" defer></script>
  </body>
</html>
