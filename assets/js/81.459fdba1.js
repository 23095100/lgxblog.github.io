(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{453:function(s,t,a){"use strict";a.r(t);var n=a(1),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"linux服务器配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux服务器配置"}},[s._v("#")]),s._v(" Linux服务器配置")]),s._v(" "),t("h2",{attrs:{id:"_14-linux服务器配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_14-linux服务器配置"}},[s._v("#")]),s._v(" 14. Linux服务器配置")]),s._v(" "),t("h3",{attrs:{id:"_14-1-dhcp服务器配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_14-1-dhcp服务器配置"}},[s._v("#")]),s._v(" 14.1. DHCP服务器配置")]),s._v(" "),t("p",[s._v("安装："),t("code",[s._v("yum -y install dhcp-server")]),s._v(" 或者 "),t("code",[s._v("yum -y install dhcp")]),s._v("，根据系统版本选择。")]),s._v(" "),t("p",[s._v("DHCP服务器的配置文件为："),t("code",[s._v("/etc/dhcp/dhcpd.conf")])]),s._v(" "),t("p",[t("strong",[s._v("dhcpd服务程序配置文件中常见参数及作用")]),s._v("：")]),s._v(" "),t("p",[s._v("标准参数类语句：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("ddns-update-style none"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 定义DNS服务动态更新的类型，包括 none(不支持动态更新)、interim(互动更新模式)、ad-hoc(特殊更新模式)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("allow "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" ignore"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" client-updates"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 允许/忽略客户端更新DNS记录")]),s._v("\ndefault-lease-time "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21600")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认租约时间，单位为秒（windows中为天）")]),s._v("\nmax-lease-time "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("43200")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\t\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 最大租约时间")]),s._v("\nrange"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\t\t\t\t\t\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 定义用于分配的IP地址池")]),s._v("\nhardware ethernet 08:00:07:26:c0:a5"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指明物理硬件接口类型和硬件地址。一般常与Fixed-address 语句一起使用实现IP地址的静态绑定。")]),s._v("\nserver-name "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"toccata.example.com"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 告知客户端所连接服务器的名字。")]),s._v("\nfixed-address fantasia.example.com"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定一个或多个IP地址给一个DHCP客户，只能出现在host声明里。")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("选项类语句：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("option subnet-mask mask"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\t\t\t    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 子网掩码选项，服务开启后可用于所有客户端。")]),s._v("\noption broadcast-address IP地址"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\t\t   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 广播地址选项，服务开启后可用于所有客户端。")]),s._v("\noption routers IP地址"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\t\t\t\t   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 网关（路由）地址选项，可设多个。")]),s._v("\noption domain-name-servers IP地址"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\t   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# DNS服务器IP地址，可用于所有客户端，可配置多个。")]),s._v("\noption domain-name "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dns.example.com"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# dns服务器域名，可用于所有客户端。")]),s._v("\noption host-name string"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 给客户指定主机名。")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[t("code",[s._v("/etc/dhcp/dhcpd.conf")]),s._v(" 配置的声明与选项：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("ddns-update-style none"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nsubnet "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.0 netmask "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.0 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定DHCP服务器的作用域，作用在哪一个网段（子网网段声明）")]),s._v("\n  option routers "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.254"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \t\t   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 定义客户端的网关地址")]),s._v("\n  option subnet-mask "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \t   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 定义客户端的子网掩码")]),s._v("\n  option domain-name "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dns.example.com"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# dns服务器域名")]),s._v("\n  option domain-name-servers "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# dns服务器IP地址")]),s._v("\n  range "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.10 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.100"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \t   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 地址池分配范围")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 为特定的客户端分配IP地址")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),s._v(" fantasia "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  hardware ethernet 08:00:07:26:c0:a5"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\t   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定物理接口和MAC地址")]),s._v("\n  fixed-address "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.20"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\t   \t\t   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 固定分配的IP地址")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("p",[t("strong",[s._v("dhcpd.leases")]),s._v(" 是DHCP客户租约的数据库文件，默认目录在 "),t("code",[s._v("/var/lib/dhcpd")]),s._v(" ，文件包含租约声明，每—次—个租约被获取、更新或释放， 它的新值就会被记录在文件的末端。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("lease "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.10 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  starts "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("/10/24 06:42:10"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \t\t  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 租约起始时间")]),s._v("\n  ends "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("/10/24 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":42:10"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\t\t\t  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 租约过期时间")]),s._v("\n  cltt "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("/10/24 06:42:10"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  binding state active"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  next binding state "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  rewind binding state "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  hardware ethernet 00:0c:29:e2:b9:d4"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\t  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获得租约的MAC地址")]),s._v("\n  uid "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token entity",title:"\\001"}},[s._v("\\001")]),t("span",{pre:!0,attrs:{class:"token entity",title:"\\000"}},[s._v("\\000")]),t("span",{pre:!0,attrs:{class:"token entity",title:"\\014"}},[s._v("\\014")]),s._v(")"),t("span",{pre:!0,attrs:{class:"token entity",title:"\\342"}},[s._v("\\342")]),t("span",{pre:!0,attrs:{class:"token entity",title:"\\271"}},[s._v("\\271")]),t("span",{pre:!0,attrs:{class:"token entity",title:"\\324"}},[s._v("\\324")]),s._v('"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\t\t  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ID信息")]),s._v("\n  client-hostname "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dhcp-client"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\t\t  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获得租约的主机名称")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("启动和停止DHCP服务：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" dhcpd "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("start"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("stop"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("restart"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_14-2-dns配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_14-2-dns配置"}},[s._v("#")]),s._v(" 14.2. DNS配置")]),s._v(" "),t("h4",{attrs:{id:"_14-2-1-dns客户端配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_14-2-1-dns客户端配置"}},[s._v("#")]),s._v(" 14.2.1. DNS客户端配置")]),s._v(" "),t("p",[t("code",[s._v("/etc/resolv.conf")]),s._v("  配置的声明与选项：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Generated by NetworkManager")]),s._v("\nsearch dns.example.com\t\t\t\t\t  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 当提供了一个不包含完全域名的主机名时，如server，在该主机名后添加dns.example.com的后缀")]),s._v("\nnameserver "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.3\t\t\t\t\t  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# DNS服务器IP地址")]),s._v("\norder host,bind\t\t\t\t\t\t\t  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# DNS解析顺序：本机缓存、host文件、本地DNS服务器")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h4",{attrs:{id:"_14-2-2-dns服务器配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_14-2-2-dns服务器配置"}},[s._v("#")]),s._v(" 14.2.2. DNS服务器配置")]),s._v(" "),t("p",[s._v("安装："),t("code",[s._v("yum -y install bind")])]),s._v(" "),t("p",[s._v("DNS服务器的配置文件为："),t("code",[s._v("/etc/named.conf")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("//单行注释类型\n/*\n  多行注释\n*/\n\nacl acl-name "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("    address_match_list"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 定义IP地址列表，用于访问控制或者其他用途")]),s._v("\noptions\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\tdirectory "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/var/named"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\t\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定服务器的工作目录")]),s._v("\n\tlisten-on port "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("53")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" any"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 监听IPv4的53端口，any表示任意客户端都可以访问")]),s._v("\n\tlisten-on-v6 port "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("53")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" any"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 监听IPv6的53端口，any表示任意客户端都可以访问")]),s._v("\n\tallow-query "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" any"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  \t\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 面向所有源IP提供解析服务")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nview view-name "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\t\t\t\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 根据客户端的IP地址不同，有区别地返回对域名的查询结果，如内网访问 www.xx.com，如果IP地址段为 192.168.1.0/24，则返回ip地址为 192.168.3.120，如果外网访问www.xx.com，则返回ip地址为 47.94.195.139")]),s._v("\n\t\tmatch-clients "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" localhost"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 匹配的客户端，根据上文ACL去控制，any表示所有")]),s._v("\n        zone "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"."')]),s._v(" IN "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\t\t\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# "." 代表根区域')]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" hint"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\t\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# hint 代表根域名服务器")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/var/named/named.ca"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 对应的区域文件")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        zone "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"xiaoliutalk.cn"')]),s._v(" IN "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 正向查找区域，实现域名到IP地址的映射")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" master"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# master 为主域名（权威）服务器，type设置成slave，表示此服务器为辅助域名服务器，type设置成forward，表示此服务器为转发域名服务器。")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/var/named/xiaoliutalk.cn.zone"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 对应的区域文件")]),s._v("\n                allow-update "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" none"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        zone "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.168.192.in-addr.arpa"')]),s._v(" IN "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这个IP需要反着写（192.168.1.100）：1.168.192")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" master"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/var/named/192.168.1.loopback"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                allow-update "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" none"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br")])]),t("p",[s._v("根服务器文件named.ca："),t("code",[s._v("/var/named/named.ca")]),s._v(" 是—个非常重要的文件，该文件包含了 Internet 的根域名服务器名称和对应的IP地址， Bind接到客户端主机查询请求时， 如果在Cache 中找不到相应的数据， 就会通过根服务器进行逐级查询。\n如果文件内容有误， 客户端将在向自身缓存无法完成IP地址的解析。named.ca 文件可以通过 Internet 进行下载。")]),s._v(" "),t("p",[t("strong",[s._v("正向查找配置")]),s._v("：")]),s._v(" "),t("p",[s._v("区（zone）文件配置：")]),s._v(" "),t("p",[s._v("在指定的目录下创建zone文件名称 "),t("code",[s._v("xiaoliutalk.cn.zone")]),s._v(" 内容如下。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("// 域名记录的默认TTL值\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$TTL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("86400")]),s._v("\n// SOA 代表权威域名服务器，可以指出权威域名服务器地址，以及管理员邮件地址，邮件格式为manager@xiaoliutalk.cn，但是这样写会报错，所以把@修改成 "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n@       IN SOA dns.xiaoliutalk.cn. manager.xiaoliutalk.cn. "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("Serial\n                3h      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("Refresh after "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" hours\n                1h      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("Retry after "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" hour\n                1w      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("Expire after "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" week\n                1h"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("Negative caching TTL of "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" hour\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n// 添加域名服务器记录：域名服务器又称为NS记录，在区域文件中用千设置当前区域的DNS服务器名称，“@”符号在区域文件中代表默认的域（ 当前域）\n@       IN NS dns.xiaoliutalk.cn.\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("server domain\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n// A记录\ndns     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3600")]),s._v("    IN      A       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.3\nwww     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("300")]),s._v("     IN      A       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.3\n// CNAME记录\na       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("      IN      CNAME   www\nmail    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("300")]),s._v("     IN      A       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.3\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("mail server\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n// 添加邮件交换记录：邮件交换记录又称MX记录，用于设置在当前区域中提供邮件服务的服务器名称。\n@       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3600")]),s._v("    IN      MX      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" mail\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br")])]),t("p",[t("strong",[s._v("反向查找配置")]),s._v("：")]),s._v(" "),t("p",[s._v("在指定的目录下创建文件名称 "),t("code",[s._v("192.168.1.loopback")]),s._v(" 内容如下。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$TTL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("86400")]),s._v("\n// SOA 代表权威域名服务器，可以指出权威域名服务器地址，以及管理员邮件地址，邮件格式为manager@xiaoliutalk.cn，但是这样写会报错，所以把@修改成 "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n@       IN SOA  dns.xiaoliutalk.cn. manager.xiaoliutalk.cn. "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n                                        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" serial\n                                        1D      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" refresh\n                                        1H      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" retry\n                                        1W      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" expire\n                                        3H "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" minimum\n// 当前区域的DNS服务器名称\n        NS      dns.xiaoliutalk.cn.\n// PTR记录为IP地址到域名的映射关系，只用写IP地址最后一段（即第四段）\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("        PTR     ftp1.xiaoliutalk.cn.\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v("        PTR     ftp2.xiaoliutalk.cn.\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("102")]),s._v("        PTR     ftp3.xiaoliutalk.cn.\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("p",[t("strong",[s._v("配置DNS均衡负载功能")]),s._v("：")]),s._v(" "),t("p",[s._v("在企业网中需要使用三台内容相同的FTP 服务器共同承担客户对网站的访问， 他们的IP地址分别对应192.168.1.21 、192.168.1.22和192.168.1.23。现只要在DNS 服务器的区域文件中加入以下三条A记录，就可以实现三台FTP服务器的网络负载均衡功能。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ftp")]),s._v(" IN A "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.21\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ftp")]),s._v(" IN A "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.22\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ftp")]),s._v(" IN A "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.23\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("启动和停止DNS服务：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" named "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("start"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("stop"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("restart"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_14-3-samba服务器配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_14-3-samba服务器配置"}},[s._v("#")]),s._v(" 14.3. Samba服务器配置")]),s._v(" "),t("p",[s._v("Smbd : 提供对服务器中文件、打印资源的共享访问。\nNmbd ：提供基于NetBIOS的主机名解析， 通过NetBIOS协议， 利用共享的端口号实现文件信息的传输及共享。例： 445端口\n注： Samba 可以提供跨系统的文件、打印共享服务，不同系统之间可通过Samba服务器对文件、打印机的相互访问。")]),s._v(" "),t("p",[s._v("安装："),t("code",[s._v("yum -y install samba")])]),s._v(" "),t("p",[s._v("Samba服务器的配置文件为："),t("code",[s._v("/etc/samba/smb.conf")])]),s._v(" "),t("p",[t("code",[s._v("smb.conf")]),s._v(" 文件有三个重要部分：")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("全局参数字段（global）")]),s._v("：主机"),t("strong",[s._v("共享时的整体设置")]),s._v("， 例如允许哪些主机访问共享资源或哪些主机可以进行资源共享。")]),s._v(" "),t("li",[t("strong",[s._v("目录共享字段（homes）")]),s._v("：该部分为"),t("strong",[s._v("用户目录共享设置")]),s._v("， 设置对应 samba 用户宿主目录的默认共享，即当前用户访问服务器中域自己用户名相同的共享文件夹时， 会默认映射到自己的宿主目录。")]),s._v(" "),t("li",[t("strong",[s._v("打印机共享字段（printers）")]),s._v("："),t("strong",[s._v("打印机的配置和共享")]),s._v("。例如允许哪些主机使用打印机等。")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("global"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 共享级别(模式)：")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# user：需要用户名和密码，账号密码由本机验证。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Share：共享不需要用户名和密码，所有主机可访问。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# server：服务器需要用户名和密码，账号密码由另一台服务器验证。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# domain：服务器需要用户名和密码，账号密码由域服务器验证。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安全级别： domain > server > user > Share")]),s._v("\n        security "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("user"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("share"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("server"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("domain"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" \n        netbios name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" MYSERVER\t\t\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 主机名称")]),s._v("\n        workgroup "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" MYGROUP\t\t\t\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可自行设定工作组，WORKGROUP组")]),s._v("\n        server string "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Samba Server Version %v\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 主机描述信息")]),s._v("\n\t\thosts allow "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127")]),s._v(". "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".12. "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".13.\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 允许访问服务器的主机IP地址范围，如只允许一台主机，写IP地址即可。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("homes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        comment "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Home Directories\t\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 共享目录信息描述")]),s._v("\n        browseable "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" No\t\t\t\t\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 是否可以被浏览")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" only "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" No\t\t\t\t\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 是否只读")]),s._v("\n        create mask "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 0755\t\t\t\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 与Linux权限相同，新创建文件默认权限值")]),s._v("\n\t\tdirectory mask "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 0755\t\t\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 与Linux权限相同，新创建目录默认权限值")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("printers"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        comment "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" All Printers\t\t\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打印机描述，All Printers指网络中所有打印机")]),s._v("\n        path "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /var/tmp\n        valid "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("users")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" jack,@root\t\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定用户可使用打印机，目前为管理员和JACK")]),s._v("\n        browseable "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" No\t\t\t\t\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 是否可以被浏览")]),s._v("\n        guest ok "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Yes\t\t\t\t\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 访客是否允许使用打印机，等同于 public = Yes")]),s._v("\n        writable "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Yes\t\t\t\t\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打印机资源是否允许被写入，等同于 read only = No")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br")])]),t("p",[s._v("Samba用户管理：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" smb_user1 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加用户信息")]),s._v("\npassword smb_user1 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加对应用户密码")]),s._v("\nsmbpasswd "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v(" smb_user1 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将用户与密码与Samba服务器关联")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v(" /etc/samba/smbpasswd "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看smbpasswd 文件中用户信息")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("启动和停止Samba服务：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" smb "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("start"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("stop"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("restart"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_14-4-ftp服务器配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_14-4-ftp服务器配置"}},[s._v("#")]),s._v(" 14.4. FTP服务器配置")]),s._v(" "),t("p",[s._v("安装："),t("code",[s._v("yum -y install vsftpd")])]),s._v(" "),t("p",[s._v("FTP服务器的配置文件为："),t("code",[s._v("/etc/vsftpd/vsftpd.conf")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("listen")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("NO\t\t\t\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 是否以独立模式（standalone）运行监听FTP服务")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("listen_address")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.3\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置被监听的IP地址")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("listen_port")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("\t\t\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置监听FTP服务的端口号")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("write_enable")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("YES\t\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 是否启用写入权限")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("download_enable")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("YES\t\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 是否允许下载文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("userlist_enable")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("YES\t\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 是否启用user_list列表文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("userlist_deny")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("YES\t\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 是否禁用user_list中的用户")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("max_clients")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\t\t\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 限制客户端并发连接数")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("max_per_ip")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\t\t\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 限制同一IP地址的并发连接数")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("anonymous_enable")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("YES\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 是否启用匿名访问")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("local_enable")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("YES\t\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 是否启用本地用户")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("user_list 文件：user_list 文件具有对 vsftpd 服务器很灵活的用户访问控制，绝对路径是 "),t("code",[s._v("/etc/vsftpd/user_list")]),s._v("，使用 user_list 需要在主配置文件中配置。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置禁止user_list文件中的用户登录（黑名单）")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("userlist_enable")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("YES\t\t\t\t\t\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("userlist_deny")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("YES\t\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置只允许user_list文件中的用户登录（白名单）")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("userlist_enable")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("YES\t\t\t\t\t\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("userlist_deny")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("NO\t\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("启动和停止Samba服务：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" vsftpd "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("start"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("stop"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("restart"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_14-5-apache服务器配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_14-5-apache服务器配置"}},[s._v("#")]),s._v(" 14.5. Apache服务器配置")]),s._v(" "),t("p",[s._v("安装："),t("code",[s._v("yum -y install httpd")])]),s._v(" "),t("p",[s._v("Apache服务器的配置文件为："),t("code",[s._v("/etc/httpd/conf/httpd.conf")])]),s._v(" "),t("p",[s._v("httpd.conf 中的全局配置：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("ServerRoot "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/etc/httpd"')]),s._v("\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置Apache服务器的根(Root) 目录")]),s._v("\nServerAdmin root@localhost\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置Apache服务器管理员的email地址")]),s._v("\nServerName localhost\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置Apache服务器的主机名")]),s._v("\nDocumentRoot "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/var/www/html"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置Apache服务器网页存放目录")]),s._v("\nListen "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(" \t\t\t\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置Apache服务器监听的网络端口号")]),s._v("\nErrorLog "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"logs/error_log"')]),s._v("\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置Apache服务器中错误日志文件的路径和文件名")]),s._v("\nCustomLog "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"logs/access_log"')]),s._v(" combined"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置Apache服务器中访问日志文件的路径和格式类型")]),s._v("\nTimeout\t\t\t\t\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置Apache服务器与浏览器之间网络连接的超时时间。单位：秒，默认120")]),s._v("\nKeepAlive\t\t\t\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置为Off时服务器不使用保待连功能，传输的效率比较低，设置为On（默认）时，可以提高服务器传输文件的效率，建议设置保持连接功能有效")]),s._v("\nMaxKeep Alive Requests\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 当KeepAlive为on时，设置客户端每次连接允许请求响应的最大文件数，默认设置为100个文件")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("虚拟Web主机：即在同—台服务器中运行多个Web站点的应用，其中每—个站点并不独立占用—台真正的计算机。")]),s._v(" "),t("p",[t("strong",[s._v("Apache支持的虚拟主机类型")]),s._v("：")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("基于域名")]),s._v("的虚拟主机")]),s._v(" "),t("li",[t("strong",[s._v("基于IP地址")]),s._v("的虚拟主机")]),s._v(" "),t("li",[t("strong",[s._v("基于端口")]),s._v("的虚拟主机")])]),s._v(" "),t("p",[s._v("基于域名的虚拟主机：")]),s._v(" "),t("div",{staticClass:"language-xml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[s._v("NameVirtualHost 173.17.17.11\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("VirtualHost")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("173.17.17.11")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v('\n　　DocumentRoot "/tmp/111"\n　　ServerName www.111.com\n'),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("VirtualHost")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("VirtualHost")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("173.17.17.11")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v('\n　　DocumentRoot "/tmp/222"\n　　ServerName www.222.com\n'),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("VirtualHost")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("基于IP地址的虚拟主机：")]),s._v(" "),t("div",{staticClass:"language-xml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("VirtualHost")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("173.17.17.11")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v('\n　　DocumentRoot "/tmp/111"\n　　ServerName www.111.com\n'),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("VirtualHost")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("VirtualHost")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("173.17.17.12")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v('\n　　DocumentRoot "/tmp/222"\n　　ServerName www.222.com\n'),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("VirtualHost")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("p",[s._v("基于端口号的虚拟主机：")]),s._v(" "),t("div",{staticClass:"language-xml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[s._v("Listen 173.17.17.11:80\nListen 173.17.17.11:8080\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("VirtualHost")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("173.17.17.11:")]),s._v("80")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v('\n　　DocumentRoot "/tmp/111"\n　　ServerName www.111.com\n'),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("VirtualHost")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("VirtualHost")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("173.17.17.11:")]),s._v("8080")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v('\n　　DocumentRoot "/tmp/222"\n　　ServerName www.222.com\n'),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("VirtualHost")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("启动和停止Apache服务：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" httpd "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("start"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("stop"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("restart"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:""}},[t("a",{staticClass:"header-anchor",attrs:{href:"#"}},[s._v("#")])])])}),[],!1,null,null,null);t.default=e.exports}}]);