(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{440:function(a,s,e){"use strict";e.r(s);var t=e(1),r=Object(t.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"apache-2-2-升级-2-4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#apache-2-2-升级-2-4"}},[a._v("#")]),a._v(" Apache 2.2 升级 2.4")]),a._v(" "),s("p",[a._v("Apache 2.2 到 2.4 版本问题比较多，具体过程在这里记录一下。升级到2.4版本主要是为了使用"),s("strong",[a._v("event")]),a._v("模式。")]),a._v(" "),s("p",[a._v("MPM（Multipath Processing Module）多道处理模块，是一个统称，有多种实现：")]),a._v(" "),s("ol",[s("li",[s("strong",[a._v("prefork")]),a._v("：每个进程响应一个用户请求，预先生成多个空闲进程；基于select()机制，单个进程最大并发1024个。")])]),a._v(" "),s("p",[a._v("​     缺点：相对占用更多的系统资源，不擅长处理高并发请求。")]),a._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[s("strong",[a._v("worker")]),a._v("：启动多个进程，每个进程生成多个线程，每个线程响应一个用户请求；")])]),a._v(" "),s("p",[a._v("​     优点：相对prefork，占用更少的内存，高并发处理能力优秀。")]),a._v(" "),s("p",[a._v("​     缺点：线程不如进程安全；若开启了keep-alive，在高并发的场景中可能出现无服务线程可用的问题。")]),a._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[s("strong",[a._v("event")]),a._v("：启动多个线程，每个线程响应N个请求。在httpd 2.4版本中被正式引入。")])]),a._v(" "),s("p",[a._v("​     优点：event会启动一个专门的线程来管理keep-alive类型的线程，当有真实请求过来的时候，将请求传递给服务线程，执行完毕后，又允许它释放，因此它的并发响应能力比worker模块更强。")]),a._v(" "),s("h2",{attrs:{id:"_1-安装apache"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装apache"}},[a._v("#")]),a._v(" 1. 安装apache")]),a._v(" "),s("h3",{attrs:{id:"_1-1-编译安装pcre"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-编译安装pcre"}},[a._v("#")]),a._v(" 1.1. 编译安装PCRE")]),a._v(" "),s("p",[a._v("由于PCRE已经升级到PCRE2，这里提供两个地址：")]),a._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/PhilipHazel/pcre2/releases",target:"_blank",rel:"noopener noreferrer"}},[a._v("PCRE2"),s("OutboundLink")],1)]),a._v(" "),s("p",[s("a",{attrs:{href:"https://sourceforge.net/projects/pcre/files/pcre/8.45/",target:"_blank",rel:"noopener noreferrer"}},[a._v("PCRE-8.45"),s("OutboundLink")],1)]),a._v(" "),s("p",[a._v("我这里采用的是8.45版本进行的编译安装：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" https://sourceforge.net/projects/pcre/files/pcre/8.45/pcre-8.45.tar.gz\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" zxvf pcre-8.45.tar.gz\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" pcre-8.45/\n./configure "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--prefix")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/usr/local/pcre\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("make")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("make")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])]),s("h3",{attrs:{id:"_1-2-下载apr和apr-util"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-下载apr和apr-util"}},[a._v("#")]),a._v(" 1.2. 下载apr和apr-util")]),a._v(" "),s("p",[a._v("采用清华镜像源下载：https://mirrors.tuna.tsinghua.edu.cn/apache/apr/")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" https://mirrors.tuna.tsinghua.edu.cn/apache/apr/apr-1.7.2.tar.gz\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" https://mirrors.tuna.tsinghua.edu.cn/apache/apr/apr-util-1.6.3.tar.gz\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("h3",{attrs:{id:"_1-3-编译安装apache"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-编译安装apache"}},[a._v("#")]),a._v(" 1.3. 编译安装apache")]),a._v(" "),s("p",[a._v("同样采用清华镜像源下载：https://mirrors.tuna.tsinghua.edu.cn/apache/httpd/")]),a._v(" "),s("p",[a._v("apr 和 apr-util 采用在 httpd 编译安装过程中进行编译安装。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" https://mirrors.tuna.tsinghua.edu.cn/apache/httpd/httpd-2.4.56.tar.gz\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" zxvf httpd-2.4.56.tar.gz\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" httpd-2.4.56/\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" zxvf "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("/apr-1.7.2.tar.gz "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-C")]),a._v(" srclib/\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" zxvf "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("/apr-util-1.6.3.tar.gz "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-C")]),a._v(" srclib/\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" srclib/apr-util-1.6.3/ srclib/apr-util\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" srclib/apr-1.7.2/ srclib/apr\n./configure "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--prefix")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/usr/local/apache2 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n            --with-mpm"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("event "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n            --enable-so "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n            --enable-rewrite --enable-mods-shared"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("all "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n            --enable-nonportable-atomics"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("yes "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n            --disable-dav "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n            --enable-deflate "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n            --enable-cache "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n            --enable-disk-cache "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n            --enable-mem-cache "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n            --enable-ssl "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n            --enable-file-cache "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n            --with-included-apr "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n            --with-pcre"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/usr/local/pcre\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("make")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("make")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br"),s("span",{staticClass:"line-number"},[a._v("15")]),s("br"),s("span",{staticClass:"line-number"},[a._v("16")]),s("br"),s("span",{staticClass:"line-number"},[a._v("17")]),s("br"),s("span",{staticClass:"line-number"},[a._v("18")]),s("br"),s("span",{staticClass:"line-number"},[a._v("19")]),s("br"),s("span",{staticClass:"line-number"},[a._v("20")]),s("br"),s("span",{staticClass:"line-number"},[a._v("21")]),s("br"),s("span",{staticClass:"line-number"},[a._v("22")]),s("br")])]),s("p",[a._v("主要看 "),s("code",[a._v("./configure")]),a._v(" 后面的参数。")]),a._v(" "),s("ul",[s("li",[s("code",[a._v("--prefix")]),a._v(" 指定安装的目录。")]),a._v(" "),s("li",[s("code",[a._v("--with-mpm")]),a._v(" 是开启"),s("a",{attrs:{href:"http://httpd.apache.org/docs/current/mpm.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("多处理模块 MPM"),s("OutboundLink")],1),a._v("。")]),a._v(" "),s("li",[s("code",[a._v("prefork")]),a._v(" 兼容旧版本，可以选择用 workder 或 "),s("code",[a._v("event")]),a._v("。")]),a._v(" "),s("li",[s("code",[a._v("--enable-so")]),a._v(" 猜测是识别 so 文件名的模块。")]),a._v(" "),s("li",[s("code",[a._v("--enable-rewrite")]),a._v(" 开启重写，就是隐藏路由中入口文件名相关的功能。")]),a._v(" "),s("li",[s("code",[a._v("disable-dav")]),a._v(" 关闭 dav 模块，dav 主要增加 PUT, DELETE, MKCOL, COPY 和 MOVE 等类型的方法。")]),a._v(" "),s("li",[s("code",[a._v("--enable-deflate")]),a._v(" 支持 gzip 压缩，通过压缩页面优化传输速度。带有 cache 的就是开启相关类型的缓存了，如文件缓存，内存缓存等。")]),a._v(" "),s("li",[s("code",[a._v("--enable-ssl")]),a._v(" 和 "),s("code",[a._v("--with-ssl")]),a._v(" 是指定 OpenSSL 的位置，主要涉及到网络安全传输，比如使用 https。")]),a._v(" "),s("li",[s("code",[a._v("--with-included-apr")]),a._v(" 是在 apr 和 apr-utl 已经解压缩放到 srclib 中的情况。")]),a._v(" "),s("li",[s("code",[a._v("--with-pcre")]),a._v(" 使用兼容的正则表达式库。")])]),a._v(" "),s("p",[a._v("每次编译成功后，httpd 都会把编译的指令参数写入到文件 "),s("code",[a._v("config.nice")]),a._v(" 中，可以通过 "),s("code",[a._v("find / -name config.nice")]),a._v(" 查看服务器上所有的成功编译的编译参数。")]),a._v(" "),s("h2",{attrs:{id:"_2-编译安装mod-wsgi模块"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-编译安装mod-wsgi模块"}},[a._v("#")]),a._v(" 2. 编译安装mod_wsgi模块")]),a._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/GrahamDumpleton/mod_wsgi/releases/",target:"_blank",rel:"noopener noreferrer"}},[a._v("mod_wsgi"),s("OutboundLink")],1)]),a._v(" "),s("p",[a._v("采用的是最新版本进行的编译安装：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" https://github.com/GrahamDumpleton/mod_wsgi/archive/refs/tags/4.9.4.zip\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("unzip")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("4.9")]),a._v(".4.zip\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" mod_wsgi-4.9.4/\n./configure --with-apxs"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/usr/local/apache2/bin/apxs "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n\t\t\t--with-python"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/usr/local/bin/python\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("make")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("make")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br")])]),s("h2",{attrs:{id:"问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#问题"}},[a._v("#")]),a._v(" 问题")]),a._v(" "),s("h3",{attrs:{id:"_1-configure-error-invalid-c-compiler-or-c-compiler-flags"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-configure-error-invalid-c-compiler-or-c-compiler-flags"}},[a._v("#")]),a._v(" 1. configure: error: Invalid C++ "),s("a",{attrs:{href:"https://so.csdn.net/so/search?q=compiler&spm=1001.2101.3001.7020",target:"_blank",rel:"noopener noreferrer"}},[a._v("compiler"),s("OutboundLink")],1),a._v(" or C++ compiler flags")]),a._v(" "),s("p",[a._v("因为系统缺失 "),s("strong",[a._v("gcc-c++")]),a._v(" 库。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("yum "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" gcc-c++\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"_2-checking-whether-to-enable-mod-deflate-configure-error-mod-deflate-has-been-requested-but-can-not-be-built-due-to-prerequisite-failures"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-checking-whether-to-enable-mod-deflate-configure-error-mod-deflate-has-been-requested-but-can-not-be-built-due-to-prerequisite-failures"}},[a._v("#")]),a._v(" 2. checking whether to enable mod_deflate... configure: error: mod_deflate has been requested but can not be built due to prerequisite failures")]),a._v(" "),s("p",[a._v("系统缺失 "),s("strong",[a._v("zlib-devel")]),a._v(" 库。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("yum "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" zlib-devel\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"_3-checking-whether-to-enable-mod-ssl-configure-error-mod-ssl-has-been-requested-but-can-not-be-built-due-to-prerequisite-failures"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-checking-whether-to-enable-mod-ssl-configure-error-mod-ssl-has-been-requested-but-can-not-be-built-due-to-prerequisite-failures"}},[a._v("#")]),a._v(" 3. checking whether to enable mod_ssl... configure: error: mod_ssl has been requested but can not be built due to prerequisite failures")]),a._v(" "),s("p",[a._v("系统缺失 "),s("strong",[a._v("openssl-devel")]),a._v(" 库。也可能由于openssl版本过旧，升级openssl版本。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("yum "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" openssl-devel\nyum update "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" openssl\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("h3",{attrs:{id:"_4-make-2-htpasswd-error-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-make-2-htpasswd-error-1"}},[a._v("#")]),a._v(" 4. make[2]: *** [htpasswd] Error 1")]),a._v(" "),s("p",[a._v("编译配置中并没有指定 --with-included-apr的具体引用路径，导致找不到相应的库文件，而 --with-included-apr 默认是查找/usr/lib下的库文件，而，正确的引用应该是/usr/lib64下的。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" /usr/lib/libm.a /usr/lib/libm.a.bak\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" /usr/lib/libm.so /usr/lib/libm.so.bak\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" /usr/lib/libexpat.so /usr/lib/libexpat.so.bak\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ln")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" /usr/lib64/libm.a /usr/lib/libm.a\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ln")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" /usr/lib64/libm.so /usr/lib/libm.so\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ln")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" /usr/lib64/libexpat.so /usr/lib/libexpat.so\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br")])]),s("h3",{attrs:{id:"_5-编译安装mod-wsgi失败"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-编译安装mod-wsgi失败"}},[a._v("#")]),a._v(" 5. 编译安装mod_wsgi失败")]),a._v(" "),s("p",[a._v("重新编译Python，生成动态库。注意这里默认会把文件编译到/usr/bin/下面。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" https://www.python.org/ftp/python/2.7.2/Python-2.7.2.tgz\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" zxvf Python-2.7.2.tgz\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" Python-2.7.2\n./configure --enable-shared\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("make")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("make")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])])])}),[],!1,null,null,null);s.default=r.exports}}]);